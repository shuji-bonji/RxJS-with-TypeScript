---
description: bufferWhen„Ç™„Éö„É¨„Éº„Çø„Éº„ÅØ„ÄÅÁµÇ‰∫ÜÊù°‰ª∂„ÇíÂãïÁöÑ„Å´Âà∂Âæ°„Åó„Å¶ÂÄ§„ÇíÈÖçÂàó„Å´„Åæ„Å®„ÇÅ„Å¶Áô∫Ë°å„Åô„ÇãRxJS„ÅÆÊºîÁÆóÂ≠ê„Åß„Åô„ÄÇ„Éê„ÉÉ„Éï„Ç°ÁµÇ‰∫ÜÂæå„Åô„Åê„Å´Ê¨°„ÅÆ„Éê„ÉÉ„Éï„Ç°„ÅåÈñãÂßã„Åï„Çå„ÇãÈÄ£Á∂öÁöÑ„Å™„Éê„ÉÉ„Éï„Ç°„É™„É≥„Ç∞„ÇíÂÆüÁèæ„Åó„Åæ„Åô„ÄÇ
---

# bufferWhen - ÂãïÁöÑ„Å™ÁµÇ‰∫ÜÂà∂Âæ°„Éê„ÉÉ„Éï„Ç°

`bufferWhen` „Ç™„Éö„É¨„Éº„Çø„Éº„ÅØ„ÄÅ**ÁµÇ‰∫ÜÊù°‰ª∂„ÇíÂãïÁöÑ„Å´Âà∂Âæ°**„Åó„Å¶ÂÄ§„ÇíÈÖçÂàó„Å´„Åæ„Å®„ÇÅ„Å¶Áô∫Ë°å„Åó„Åæ„Åô„ÄÇ„Éê„ÉÉ„Éï„Ç°„ÅåÁµÇ‰∫Ü„Åô„Çã„Å®Âç≥Â∫ß„Å´Ê¨°„ÅÆ„Éê„ÉÉ„Éï„Ç°„ÅåÈñãÂßã„Åï„Çå„Çã„ÄÅÈÄ£Á∂öÁöÑ„Å™„Éê„ÉÉ„Éï„Ç°„É™„É≥„Ç∞„Éë„Çø„Éº„É≥„ÇíÂÆüÁèæ„Åó„Åæ„Åô„ÄÇ


## üî∞ Âü∫Êú¨ÊßãÊñá„Å®‰Ωø„ÅÑÊñπ

```ts
import { interval } from 'rxjs';
import { bufferWhen, take } from 'rxjs';

const source$ = interval(500); // 0.5Áßí„Åî„Å®„Å´ÂÄ§„ÇíÁô∫Ë°å

// ÁµÇ‰∫ÜÊù°‰ª∂: 1ÁßíÂæå
const closingSelector = () => interval(1000);

source$.pipe(
  bufferWhen(closingSelector),
  take(4)
).subscribe(console.log);
// Âá∫Âäõ:
// [0]           Ôºà0ÁßíÈñãÂßã ‚Üí 1ÁßíÁµÇ‰∫Ü„ÄÅÂÄ§0„ÅÆ„ÅøÔºâ
// [1, 2, 3]     Ôºà1ÁßíÈñãÂßã ‚Üí 2ÁßíÁµÇ‰∫Ü„ÄÅÂÄ§1,2,3Ôºâ
// [4, 5]        Ôºà2ÁßíÈñãÂßã ‚Üí 3ÁßíÁµÇ‰∫Ü„ÄÅÂÄ§4,5Ôºâ
// [6, 7]        Ôºà3ÁßíÈñãÂßã ‚Üí 4ÁßíÁµÇ‰∫Ü„ÄÅÂÄ§6,7Ôºâ
```

**Âãï‰Ωú„ÅÆÊµÅ„Çå**:
1. ÊúÄÂàù„ÅÆ„Éê„ÉÉ„Éï„Ç°„ÅåËá™ÂãïÁöÑ„Å´ÈñãÂßã
2. `closingSelector()` „ÅåËøî„ÅôObservable„ÅåÂÄ§„ÇíÁô∫Ë°å ‚Üí „Éê„ÉÉ„Éï„Ç°ÁµÇ‰∫Ü„ÄÅÈÖçÂàó„ÇíÂá∫Âäõ
3. **Âç≥Â∫ß„Å´Ê¨°„ÅÆ„Éê„ÉÉ„Éï„Ç°„ÅåÈñãÂßã**Ôºàsource$„ÅÆÁô∫Ë°å„Å®ÂêåÊôÇ„Å´„Å™„Çã„Åì„Å®„ÅåÂ§ö„ÅÑÔºâ
4. 2-3„ÇíÁπ∞„ÇäËøî„Åô

> [!NOTE]
> ÊúÄÂàù„ÅÆ„Éê„ÉÉ„Éï„Ç°„ÅØ `interval(1000)` „ÅåÊúÄÂàù„ÅÆÂÄ§„ÇíÁô∫Ë°å„Åô„Çã„Åæ„Åß„ÅÆ1ÁßíÈñì„Å™„ÅÆ„Åß `[0]` „ÅÆ„Åø„Åß„Åô„ÄÇ2Áï™ÁõÆ‰ª•Èôç„ÅØ„Éê„ÉÉ„Éï„Ç°ÈñãÂßã„Å® `source$` „ÅÆÁô∫Ë°å„ÅåÂêåÊôÇ„Å´„Å™„Çã„Åü„ÇÅ„ÄÅ„Çà„ÇäÂ§ö„Åè„ÅÆÂÄ§„ÅåÂê´„Åæ„Çå„Åæ„Åô„ÄÇ

[üåê RxJSÂÖ¨Âºè„Éâ„Ç≠„É•„É°„É≥„Éà - `bufferWhen`](https://rxjs.dev/api/operators/bufferWhen)


## üÜö bufferToggle „Å®„ÅÆÈÅï„ÅÑ

`bufferWhen` „Å® `bufferToggle` „ÅØ‰ºº„Å¶„ÅÑ„Åæ„Åô„Åå„ÄÅ**Âà∂Âæ°ÊñπÊ≥ï„Å®Âãï‰Ωú„Éë„Çø„Éº„É≥„ÅåÂ§ß„Åç„ÅèÁï∞„Å™„Çä„Åæ„Åô**„ÄÇ

### bufferWhen „ÅÆÂãï‰Ωú

```ts
import { interval } from 'rxjs';
import { bufferWhen, take } from 'rxjs';

const source$ = interval(300).pipe(take(12)); // 0-11„Çí300ms„Åî„Å®„Å´Áô∫Ë°å

// bufferWhen: ÁµÇ‰∫Ü„ÅÆ„ÅøÂà∂Âæ°ÔºàÁµÇ‰∫ÜÂæå„Åô„ÅêÊ¨°„ÅåÈñãÂßãÔºâ
source$.pipe(
  bufferWhen(() => interval(1000))
).subscribe(console.log);
// Âá∫Âäõ: [0, 1, 2], [3, 4, 5], [6, 7, 8, 9], [10, 11]
//
// „Çø„Ç§„É†„É©„Ç§„É≥:
//  0ms   300ms  600ms  900ms  1200ms 1500ms 1800ms 2100ms 2400ms 2700ms 3000ms 3300ms 3600ms
//  0     1      2      3      4      5      6      7      8      9      10     11
//  [----------1Áßí----------][----------1Áßí----------][----------1Áßí----------][-----1Áßí-----]
//   „Éê„ÉÉ„Éï„Ç°1(0-2)           „Éê„ÉÉ„Éï„Ç°2(3-5)           „Éê„ÉÉ„Éï„Ç°3(6-9)          „Éê„ÉÉ„Éï„Ç°4(10-11)
//   ÈÄ£Á∂öÁöÑ„ÉªÈáçË§á„Å™„Åó„ÉªÂç≥Â∫ß„Å´Ê¨°„ÅåÈñãÂßã
```

### bufferToggle „ÅÆÂãï‰Ωú

```ts
import { interval } from 'rxjs';
import { bufferToggle, take } from 'rxjs';

const source$ = interval(300).pipe(take(12)); // 0-11„Çí300ms„Åî„Å®„Å´Áô∫Ë°å

// bufferToggle: ÈñãÂßã„Å®ÁµÇ‰∫Ü„ÇíÂà•Âà∂Âæ°ÔºàÈáçË§áÂèØËÉΩÔºâ
const opening$ = interval(1000); // 1Áßí„Åî„Å®„Å´ÈñãÂßã
const closing = () => interval(800); // ÈñãÂßã„Åã„Çâ800msÂæå„Å´ÁµÇ‰∫Ü

source$.pipe(
  bufferToggle(opening$, closing)
).subscribe(console.log);
// Âá∫Âäõ: [3, 4, 5], [6, 7, 8], [9, 10, 11]
//
// „Çø„Ç§„É†„É©„Ç§„É≥:
//  0ms   300ms  600ms  900ms  1200ms 1500ms 1800ms 2100ms 2400ms 2700ms 3000ms 3300ms
//  0     1      2      3      4      5      6      7      8      9      10     11
//        ----ÈñãÂßã1(1000ms)----[---800msÂæåÁµÇ‰∫Ü(1800ms)---]
//                        3      4      5
//                        ‚îî‚Üí [3,4,5]
//                    ----ÈñãÂßã2(2000ms)----[---800msÂæåÁµÇ‰∫Ü(2800ms)---]
//                                            6      7      8
//                                            ‚îî‚Üí [6,7,8]
//                              ----ÈñãÂßã3(3000ms)----[---800msÂæåÁµÇ‰∫Ü(3800ms)---]
//                                                      9      10     11
//                                                      ‚îî‚Üí [9,10,11]
//  ÈñãÂßã„Éà„É™„Ç¨„Éº„ÇíÂæÖ„Å°„ÄÅÊúüÈñì„ÅØÁã¨Á´ãÔºàÊúÄÂàù„ÅÆ0-2„ÅØ„Éê„ÉÉ„Éï„Ç°ÈñãÂßãÂâç„Å™„ÅÆ„ÅßÂê´„Åæ„Çå„Å™„ÅÑÔºâ
```

### ‰∏ª„Å™ÈÅï„ÅÑ

| „Ç™„Éö„É¨„Éº„Çø„Éº | ÈñãÂßãÂà∂Âæ° | ÁµÇ‰∫ÜÂà∂Âæ° | „Éê„ÉÉ„Éï„Ç°ÊúüÈñì | ÁâπÂæ¥ |
|---|---|---|---|---|
| `bufferWhen(closing)` | Ëá™ÂãïÔºàÁµÇ‰∫ÜÂæå„Åô„ÅêÔºâ | ÂãïÁöÑ | ÈÄ£Á∂öÁöÑ | „Éê„ÉÉ„Éï„Ç°Èñì„ÅÆÈöôÈñì„Å™„Åó |
| `bufferToggle(open$, close)` | Áã¨Á´ã„Åó„ÅüObservable | ÂãïÁöÑ | Áã¨Á´ã„ÉªÈáçË§áÂèØËÉΩ | „Éê„ÉÉ„Éï„Ç°Èñì„Å´ÈöôÈñì„ÅÇ„Çä |

**‰Ωø„ÅÑÂàÜ„Åë„ÅÆ„Éù„Ç§„É≥„Éà**:
- **`bufferWhen`**: „Åô„Åπ„Å¶„ÅÆ„Éá„Éº„Çø„ÇíÊºè„Çå„Å™„ÅèÈÄ£Á∂öÁöÑ„Å´„Éê„ÉÉ„Éï„Ç°„É™„É≥„Ç∞„Åó„Åü„ÅÑÔºà„É≠„Ç∞ÂèéÈõÜ„ÄÅ„Éá„Éº„ÇøÈõÜÁ¥Ñ„Å™„Å©Ôºâ
- **`bufferToggle`**: ÁâπÂÆö„ÅÆÊúüÈñì„Å†„Åë„Éá„Éº„Çø„ÇíÂèéÈõÜ„Åó„Åü„ÅÑÔºàÂñ∂Ê•≠ÊôÇÈñì‰∏≠„ÄÅ„Éú„Çø„É≥Êäº‰∏ã‰∏≠„Å™„Å©Ôºâ

> [!TIP]
> - **ÈÄ£Á∂öÁöÑ„Å™„Éê„ÉÉ„Éï„Ç°„É™„É≥„Ç∞**Ôºà„Éá„Éº„Çø„ÇíÊºè„Çâ„Åï„Å™„ÅÑÔºâ ‚Üí `bufferWhen`
> - **ÊúüÈñìÈôêÂÆö„ÅÆ„Éê„ÉÉ„Éï„Ç°„É™„É≥„Ç∞**ÔºàÈñãÂßã/ÁµÇ‰∫Ü„ÇíÊòéÁ§∫ÁöÑ„Å´Âà∂Âæ°Ôºâ ‚Üí `bufferToggle`


## üí° ÂÖ∏ÂûãÁöÑ„Å™Ê¥ªÁî®„Éë„Çø„Éº„É≥

1. **ÂãïÁöÑ„Å™ÊôÇÈñìÈñìÈöî„Åß„ÅÆ„Éá„Éº„ÇøÂèéÈõÜ**
   ```ts
   import { interval, timer } from 'rxjs';
   import { bufferWhen, map } from 'rxjs';

   // „Çª„É≥„Çµ„Éº„Éá„Éº„Çø
   const sensorData$ = interval(100).pipe(
     map(() => ({
       timestamp: Date.now(),
       temperature: 20 + Math.random() * 10
     }))
   );

   // ÁµÇ‰∫ÜÊù°‰ª∂: ÂâçÂõû„ÅÆÊ∏©Â∫¶„Å´Âøú„Åò„Å¶ÂãïÁöÑ„Å´Â§âÊõ¥
   let previousAvgTemp = 25;

   sensorData$.pipe(
     bufferWhen(() => {
       // Ê∏©Â∫¶„ÅåÈ´ò„ÅÑ„Åª„Å©Áü≠„ÅÑÈñìÈöî„Åß„Éê„ÉÉ„Éï„Ç°
       const duration = previousAvgTemp > 27 ? 500 : 1000;
       return timer(duration);
     })
   ).subscribe(data => {
     const avgTemp = data.reduce((sum, d) => sum + d.temperature, 0) / data.length;
     previousAvgTemp = avgTemp;
     console.log(`Âπ≥ÂùáÊ∏©Â∫¶: ${avgTemp.toFixed(1)}¬∞C, „Çµ„É≥„Éó„É´Êï∞: ${data.length}`);
   });
   ```

2. **Ë≤†Ëç∑„Å´Âøú„Åò„ÅüÈÅ©ÂøúÁöÑ„Å™„Éê„ÉÉ„ÉÅÂá¶ÁêÜ**
   ```ts
   import { fromEvent, timer } from 'rxjs';
   import { bufferWhen, map } from 'rxjs';

   interface Task {
     id: number;
     timestamp: number;
   }

   // „Çø„Çπ„ÇØ„Çπ„Éà„É™„Éº„É†
   let taskCounter = 0;
   const tasks$ = fromEvent(document, 'click').pipe(
     map(() => ({
       id: taskCounter++,
       timestamp: Date.now()
     } as Task))
   );

   // „Éê„ÉÉ„Éï„Ç°„Çµ„Ç§„Ç∫„Å´Âøú„Åò„Å¶Ê¨°„ÅÆ„Éê„ÉÉ„Éï„Ç°ÊúüÈñì„ÇíË™øÊï¥
   tasks$.pipe(
     bufferWhen(() => timer(2000))
   ).subscribe(bufferedTasks => {
     if (bufferedTasks.length > 0) {
       console.log(`„Éê„ÉÉ„ÉÅÂá¶ÁêÜ: ${bufferedTasks.length}‰ª∂„ÅÆ„Çø„Çπ„ÇØ`);
       console.log('„Çø„Çπ„ÇØID:', bufferedTasks.map(t => t.id));

       // Ê¨°„ÅÆ„Éê„ÉÉ„Éï„Ç°ÊúüÈñì„ÇíÂãïÁöÑ„Å´Ê±∫ÂÆö
       // ÔºàÂÆüÈöõ„ÅØ„Åì„ÅÆ„É≠„Ç∏„ÉÉ„ÇØ„ÇíbufferWhen„ÅÆÈñ¢Êï∞ÂÜÖ„Å´ÁßªÂãïÔºâ
     }
   });
   ```

3. **„É©„É≥„ÉÄ„É†„Å™ÈñìÈöî„Åß„ÅÆ„Çµ„É≥„Éó„É™„É≥„Ç∞**
   ```ts
   import { interval, timer } from 'rxjs';
   import { bufferWhen, map } from 'rxjs';

   // „Éá„Éº„Çø„Çπ„Éà„É™„Éº„É†
   const data$ = interval(100).pipe(
     map(i => ({
       value: Math.sin(i / 10) * 100,
       timestamp: Date.now()
     }))
   );

   // „É©„É≥„ÉÄ„É†„Å™ÈñìÈöîÔºà500ms„Äú2000msÔºâ„Åß„Éê„ÉÉ„Éï„Ç°
   data$.pipe(
     bufferWhen(() => {
       const randomDelay = 500 + Math.random() * 1500;
       return timer(randomDelay);
     })
   ).subscribe(samples => {
     const avg = samples.reduce((sum, s) => sum + s.value, 0) / samples.length;
     console.log(`„Çµ„É≥„Éó„É´Êï∞: ${samples.length}, Âπ≥ÂùáÂÄ§: ${avg.toFixed(2)}`);
   });
   ```


## üß† ÂÆüË∑µ„Ç≥„Éº„Éâ‰æãÔºàË≤†Ëç∑„Å´Âøú„Åò„Åü„É≠„Ç∞ÂèéÈõÜÔºâ

„Ç∑„Çπ„ÉÜ„É†„ÅÆË≤†Ëç∑„Å´Âøú„Åò„Å¶„ÄÅ„É≠„Ç∞ÂèéÈõÜ„ÅÆÈ†ªÂ∫¶„ÇíÂãïÁöÑ„Å´Â§âÊõ¥„Åô„Çã‰æã„Åß„Åô„ÄÇ

```ts
import { interval, timer, fromEvent } from 'rxjs';
import { bufferWhen, map, share } from 'rxjs';

// UIË¶ÅÁ¥†„ÅÆ‰ΩúÊàê
const container = document.createElement('div');
document.body.appendChild(container);

const title = document.createElement('h3');
title.textContent = 'ÈÅ©ÂøúÁöÑ„É≠„Ç∞ÂèéÈõÜ„Ç∑„Çπ„ÉÜ„É†';
container.appendChild(title);

const loadButton = document.createElement('button');
loadButton.textContent = 'Ë≤†Ëç∑„ÇíÁîüÊàê';
container.appendChild(loadButton);

const status = document.createElement('div');
status.style.marginTop = '10px';
status.style.padding = '10px';
status.style.backgroundColor = '#f0f0f0';
status.textContent = '‰ΩéË≤†Ëç∑: 5ÁßíÈñìÈöî„ÅßÂèéÈõÜ';
container.appendChild(status);

const logDisplay = document.createElement('pre');
logDisplay.style.marginTop = '10px';
logDisplay.style.padding = '10px';
logDisplay.style.backgroundColor = '#f9f9f9';
logDisplay.style.maxHeight = '300px';
logDisplay.style.overflow = 'auto';
container.appendChild(logDisplay);

// „É≠„Ç∞„Çπ„Éà„É™„Éº„É†ÔºàÂ∏∏ÊôÇÁîüÊàêÔºâ
let logCounter = 0;
const logs$ = interval(200).pipe(
  map(() => ({
    id: logCounter++,
    level: Math.random() > 0.7 ? 'ERROR' : 'INFO',
    message: `Log message ${logCounter}`,
    timestamp: new Date()
  })),
  share()
);

// Ë≤†Ëç∑„Ç´„Ç¶„É≥„Çø„ÉºÔºà„Éú„Çø„É≥„ÇØ„É™„ÉÉ„ÇØ„Åß„Ç§„É≥„ÇØ„É™„É°„É≥„ÉàÔºâ
let loadLevel = 0;
fromEvent(loadButton, 'click').subscribe(() => {
  loadLevel = Math.min(loadLevel + 1, 5);
  updateStatus();
});

// 30Áßí„Åî„Å®„Å´Ë≤†Ëç∑„ÇíÊ∏õÂ∞ë
interval(30000).subscribe(() => {
  loadLevel = Math.max(loadLevel - 1, 0);
  updateStatus();
});

function updateStatus() {
  const interval = getBufferInterval(loadLevel);
  const loadText = loadLevel === 0 ? '‰ΩéË≤†Ëç∑' :
                   loadLevel <= 2 ? '‰∏≠Ë≤†Ëç∑' : 'È´òË≤†Ëç∑';
  status.textContent = `${loadText} (Level ${loadLevel}): ${interval / 1000}ÁßíÈñìÈöî„ÅßÂèéÈõÜ`;
  status.style.backgroundColor =
    loadLevel === 0 ? '#d4edda' :
    loadLevel <= 2 ? '#fff3cd' : '#f8d7da';
}

function getBufferInterval(load: number): number {
  // Ë≤†Ëç∑„ÅåÈ´ò„ÅÑ„Åª„Å©Áü≠„ÅÑÈñìÈöî„Åß„Éê„ÉÉ„Éï„Ç°
  switch (load) {
    case 0: return 5000;  // 5Áßí
    case 1: return 3000;  // 3Áßí
    case 2: return 2000;  // 2Áßí
    case 3: return 1000;  // 1Áßí
    case 4: return 500;   // 0.5Áßí
    default: return 300;  // 0.3Áßí
  }
}

// ÈÅ©ÂøúÁöÑ„Éê„ÉÉ„Éï„Ç°„É™„É≥„Ç∞
logs$.pipe(
  bufferWhen(() => timer(getBufferInterval(loadLevel)))
).subscribe(bufferedLogs => {
  if (bufferedLogs.length > 0) {
    const errors = bufferedLogs.filter(log => log.level === 'ERROR').length;
    const timestamp = new Date().toLocaleTimeString();

    const summary = `[${timestamp}] ÂèéÈõÜ: ${bufferedLogs.length}‰ª∂ („Ç®„É©„Éº: ${errors}‰ª∂)\n`;
    logDisplay.textContent = summary + logDisplay.textContent;

    console.log('ÂèéÈõÜ„Åï„Çå„Åü„É≠„Ç∞:', bufferedLogs);
  }
});
```


## üìã ÂûãÂÆâÂÖ®„Å™‰Ωø„ÅÑÊñπ

TypeScript „Åß„Ç∏„Çß„Éç„É™„ÇØ„Çπ„ÇíÊ¥ªÁî®„Åó„ÅüÂûãÂÆâÂÖ®„Å™ÂÆüË£Ö‰æã„Åß„Åô„ÄÇ

```ts
import { Observable, interval, timer } from 'rxjs';
import { bufferWhen, map } from 'rxjs';

interface MetricData {
  value: number;
  timestamp: Date;
  source: string;
}

interface BufferConfig {
  minDuration: number;
  maxDuration: number;
  adaptive: boolean;
}

class AdaptiveBuffer<T> {
  constructor(private config: BufferConfig) {}

  private getNextBufferDuration(previousCount: number): number {
    if (!this.config.adaptive) {
      return this.config.minDuration;
    }

    // „Éá„Éº„ÇøÈáè„Å´Âøú„Åò„Å¶Ê¨°„ÅÆ„Éê„ÉÉ„Éï„Ç°ÊúüÈñì„ÇíË™øÊï¥
    const ratio = Math.min(previousCount / 10, 1);
    const duration =
      this.config.minDuration +
      (this.config.maxDuration - this.config.minDuration) * (1 - ratio);

    return Math.floor(duration);
  }

  apply(source$: Observable<T>): Observable<T[]> {
    let previousCount = 0;

    return source$.pipe(
      bufferWhen(() => {
        const duration = this.getNextBufferDuration(previousCount);
        return timer(duration);
      }),
      map(buffer => {
        previousCount = buffer.length;
        return buffer;
      })
    );
  }
}

// ‰ΩøÁî®‰æã
const metricsStream$ = interval(300).pipe(
  map(i => ({
    value: Math.random() * 100,
    timestamp: new Date(),
    source: `sensor-${i % 3}`
  } as MetricData))
);

const buffer = new AdaptiveBuffer<MetricData>({
  minDuration: 1000,  // ÊúÄÂ∞è1Áßí
  maxDuration: 5000,  // ÊúÄÂ§ß5Áßí
  adaptive: true      // ÈÅ©ÂøúÁöÑ
});

buffer.apply(metricsStream$).subscribe(metrics => {
  if (metrics.length > 0) {
    const avg = metrics.reduce((sum, m) => sum + m.value, 0) / metrics.length;
    console.log(`„Éê„ÉÉ„Éï„Ç°„Çµ„Ç§„Ç∫: ${metrics.length}, Âπ≥ÂùáÂÄ§: ${avg.toFixed(2)}`);
  }
});
```


## üéØ ‰ªñ„ÅÆ„Éê„ÉÉ„Éï„Ç°Á≥ª„Ç™„Éö„É¨„Éº„Çø„Éº„Å®„ÅÆÊØîËºÉ

```ts
import { interval, timer, Subject } from 'rxjs';
import { buffer, bufferTime, bufferCount, bufferWhen, bufferToggle, take } from 'rxjs';

const source$ = interval(300).pipe(take(10)); // 0-9

// 1. buffer: Âõ∫ÂÆö„Éà„É™„Ç¨„Éº
const trigger$ = new Subject<void>();
source$.pipe(buffer(trigger$)).subscribe(console.log);
setInterval(() => trigger$.next(), 1000);
// Âá∫Âäõ: [0, 1, 2], [3, 4, 5], ... („Éà„É™„Ç¨„Éº„ÅÆ„Çø„Ç§„Éü„É≥„Ç∞„Åß)

// 2. bufferTime: Âõ∫ÂÆöÊôÇÈñìÈñìÈöî
source$.pipe(bufferTime(1000)).subscribe(console.log);
// Âá∫Âäõ: [0, 1, 2], [3, 4, 5], [6, 7, 8], [9]

// 3. bufferCount: Âõ∫ÂÆöÂÄãÊï∞
source$.pipe(bufferCount(3)).subscribe(console.log);
// Âá∫Âäõ: [0, 1, 2], [3, 4, 5], [6, 7, 8], [9]

// 4. bufferWhen: ÂãïÁöÑ„Å™ÁµÇ‰∫ÜÂà∂Âæ°ÔºàÈÄ£Á∂öÁöÑÔºâ
source$.pipe(
  bufferWhen(() => timer(1000))
).subscribe(console.log);
// Âá∫Âäõ: [0, 1, 2], [3, 4, 5], [6, 7, 8], [9]

// 5. bufferToggle: ÈñãÂßã„Å®ÁµÇ‰∫Ü„ÇíÁã¨Á´ãÂà∂Âæ°ÔºàÈáçË§áÂèØËÉΩÔºâ
const opening$ = interval(1000);
const closing = () => timer(800);
source$.pipe(
  bufferToggle(opening$, closing)
).subscribe(console.log);
// Âá∫Âäõ: [3, 4, 5], [6, 7, 8]
```

| „Ç™„Éö„É¨„Éº„Çø„Éº | „Éà„É™„Ç¨„Éº | ÂãïÁöÑÂà∂Âæ° | ÈáçË§á | „É¶„Éº„Çπ„Ç±„Éº„Çπ |
|---|---|---|---|---|
| `buffer` | Â§ñÈÉ®Observable | ‚ùå | ‚ùå | „Ç§„Éô„É≥„Éà„Éâ„É™„Éñ„É≥ |
| `bufferTime` | Âõ∫ÂÆöÊôÇÈñì | ‚ùå | ‚ùå | ÂÆöÊúüÁöÑ„Å™ÈõÜÁ¥Ñ |
| `bufferCount` | Âõ∫ÂÆöÂÄãÊï∞ | ‚ùå | ‚ùå | ÂÆöÈáèÁöÑ„Å™Âá¶ÁêÜ |
| `bufferWhen` | ÂãïÁöÑÔºàÁµÇ‰∫Ü„ÅÆ„ÅøÔºâ | ‚úÖ | ‚ùå | ÈÅ©ÂøúÁöÑ„Å™„Éê„ÉÉ„ÉÅÂá¶ÁêÜ |
| `bufferToggle` | ÂãïÁöÑÔºàÈñãÂßã„Å®ÁµÇ‰∫ÜÔºâ | ‚úÖ | ‚úÖ | Ë§áÈõë„Å™ÊúüÈñìÁÆ°ÁêÜ |


## ‚ö†Ô∏è „Çà„Åè„ÅÇ„ÇãÈñìÈÅï„ÅÑ

> [!WARNING]
> `bufferWhen` „ÅÆÁµÇ‰∫ÜÊù°‰ª∂Èñ¢Êï∞„ÅØ**ÊØéÂõûÊñ∞„Åó„ÅÑObservable„ÇíËøî„ÅôÂøÖË¶Å**„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÂêå„ÅòObservable„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÇíËøî„Åô„Å®„ÄÅÊ≠£„Åó„ÅèÂãï‰Ωú„Åó„Åæ„Åõ„Çì„ÄÇ

### Ë™§: Âêå„ÅòObservable„Ç§„É≥„Çπ„Çø„É≥„Çπ„ÇíËøî„Åô

```ts
import { interval, timer } from 'rxjs';
import { bufferWhen } from 'rxjs';

const source$ = interval(500);

// ‚ùå ÊÇ™„ÅÑ‰æã: Âêå„ÅòObservable„Ç§„É≥„Çπ„Çø„É≥„Çπ„Çí‰Ωø„ÅÑÂõû„Åó
const closingObservable = timer(1000);

source$.pipe(
  bufferWhen(() => closingObservable) // 2ÂõûÁõÆ‰ª•ÈôçÂãï‰Ωú„Åó„Å™„ÅÑÔºÅ
).subscribe(console.log);
// ÊúÄÂàù„ÅÆ„Éê„ÉÉ„Éï„Ç°„ÅÆ„ÅøÂá∫Âäõ„Åï„Çå„ÄÅ‰ª•Èôç„ÅØÂá∫Âäõ„Åï„Çå„Å™„ÅÑ
```

### Ê≠£: ÊØéÂõûÊñ∞„Åó„ÅÑObservable„ÇíËøî„Åô

```ts
import { interval, timer } from 'rxjs';
import { bufferWhen } from 'rxjs';

const source$ = interval(500);

// ‚úÖ ËâØ„ÅÑ‰æã: ÊØéÂõûÊñ∞„Åó„ÅÑObservable„ÇíÁîüÊàê
source$.pipe(
  bufferWhen(() => timer(1000)) // ÊØéÂõûÊñ∞„Åó„ÅÑtimer„ÇíÁîüÊàê
).subscribe(console.log);
// Âá∫Âäõ: [0, 1], [2, 3], [4, 5], ...
```

> [!IMPORTANT]
> `closingSelector` Èñ¢Êï∞„ÅØ„ÄÅÂâç„ÅÆ„Éê„ÉÉ„Éï„Ç°„ÅåÁµÇ‰∫Ü„Åô„Çã„Åü„Å≥„Å´**ÂøÖ„ÅöÂëº„Å≥Âá∫„Åï„Çå**„ÄÅÊñ∞„Åó„ÅÑObservable„ÇíËøî„Åô„Åì„Å®„ÅåÊúüÂæÖ„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ


## üéì „Åæ„Å®„ÇÅ

### bufferWhen „Çí‰Ωø„ÅÜ„Åπ„ÅçÂ†¥Âêà
- ‚úÖ ÁµÇ‰∫ÜÊù°‰ª∂„ÇíÂãïÁöÑ„Å´Âà∂Âæ°„Åó„Åü„ÅÑÂ†¥Âêà
- ‚úÖ ÈÄ£Á∂öÁöÑ„Å™„Éê„ÉÉ„Éï„Ç°„É™„É≥„Ç∞ÊúüÈñì„ÅåÂøÖË¶Å„Å™Â†¥Âêà
- ‚úÖ ÂâçÂõû„ÅÆ„Éê„ÉÉ„Éï„Ç°ÁµêÊûú„Å´Âü∫„Å•„ÅÑ„Å¶Ê¨°„ÅÆÊúüÈñì„ÇíË™øÊï¥„Åó„Åü„ÅÑÂ†¥Âêà
- ‚úÖ ÈÅ©ÂøúÁöÑ„Å™„Éê„ÉÉ„ÉÅÂá¶ÁêÜ„ÇíÂÆüË£Ö„Åó„Åü„ÅÑÂ†¥Âêà

### bufferToggle „Çí‰Ωø„ÅÜ„Åπ„ÅçÂ†¥Âêà
- ‚úÖ ÈñãÂßã„Å®ÁµÇ‰∫Ü„ÇíÁã¨Á´ã„Åó„Å¶Âà∂Âæ°„Åó„Åü„ÅÑÂ†¥Âêà
- ‚úÖ „Éê„ÉÉ„Éï„Ç°ÊúüÈñì„ÅåÈáçË§á„Åô„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„ÇãÂ†¥Âêà
- ‚úÖ „Éú„Çø„É≥Êäº‰∏ã‰∏≠„Å™„Å©„ÄÅÊòéÁ¢∫„Å™ÈñãÂßã/ÁµÇ‰∫Ü„Ç§„Éô„É≥„Éà„Åå„ÅÇ„ÇãÂ†¥Âêà

### bufferTime „Çí‰Ωø„ÅÜ„Åπ„ÅçÂ†¥Âêà
- ‚úÖ Âõ∫ÂÆöÊôÇÈñìÈñìÈöî„Åß„ÅÆ„Éê„ÉÉ„Éï„Ç°„É™„É≥„Ç∞„ÅßÂçÅÂàÜ„Å™Â†¥Âêà
- ‚úÖ „Ç∑„É≥„Éó„É´„Å™ÂÆüË£Ö„ÅåÊ±Ç„ÇÅ„Çâ„Çå„ÇãÂ†¥Âêà

### Ê≥®ÊÑèÁÇπ
- ‚ö†Ô∏è `closingSelector` „ÅØÊØéÂõûÊñ∞„Åó„ÅÑObservable„ÇíËøî„ÅôÂøÖË¶Å„Åå„ÅÇ„Çã
- ‚ö†Ô∏è ÁµÇ‰∫ÜÊù°‰ª∂„ÅåË§áÈõë„Å´„Å™„Çä„Åô„Åé„Çã„Å®„ÄÅ„Éá„Éê„ÉÉ„Ç∞„ÅåÂõ∞Èõ£„Å´„Å™„Çã
- ‚ö†Ô∏è ÈÅ©ÂøúÁöÑ„Å™Âà∂Âæ°„Åß„ÅØ„ÄÅ‰∫àÊúü„Åó„Å™„ÅÑÂãï‰Ωú„ÇíÈÅø„Åë„Çã„Åü„ÇÅ„ÉÜ„Çπ„Éà„ÅåÈáçË¶Å


## üöÄ Ê¨°„ÅÆ„Çπ„ÉÜ„ÉÉ„Éó

- **[buffer](./buffer)** - Âü∫Êú¨ÁöÑ„Å™„Éê„ÉÉ„Éï„Ç°„É™„É≥„Ç∞„ÇíÂ≠¶„Å∂
- **[bufferTime](./bufferTime)** - ÊôÇÈñì„Éô„Éº„Çπ„ÅÆ„Éê„ÉÉ„Éï„Ç°„É™„É≥„Ç∞„ÇíÂ≠¶„Å∂
- **[bufferCount](./bufferCount)** - ÂÄãÊï∞„Éô„Éº„Çπ„ÅÆ„Éê„ÉÉ„Éï„Ç°„É™„É≥„Ç∞„ÇíÂ≠¶„Å∂
- **[bufferToggle](./bufferToggle)** - ÈñãÂßã„Å®ÁµÇ‰∫Ü„ÇíÁã¨Á´ãÂà∂Âæ°„Åô„Çã„Éê„ÉÉ„Éï„Ç°„É™„É≥„Ç∞„ÇíÂ≠¶„Å∂
- **[Â§âÊèõ„Ç™„Éö„É¨„Éº„Çø„ÉºÂÆüË∑µ‰æã](./practical-use-cases)** - ÂÆüÈöõ„ÅÆ„É¶„Éº„Çπ„Ç±„Éº„Çπ„ÇíÂ≠¶„Å∂
