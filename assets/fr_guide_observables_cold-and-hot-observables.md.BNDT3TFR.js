import{_ as s,c as i,o as t,a2 as n}from"./chunks/framework.D3KFGq5-.js";const v=JSON.parse(`{"title":"Cold Observable et Hot Observable","description":"Cet article d√©taille les diff√©rences entre Cold Observable et Hot Observable. Des exemples d'applications pratiques sont pr√©sent√©s, notamment l'ind√©pendance du flux de donn√©es par abonnement, la conversion de Cold √† Hot √† l'aide de share et shareReplay, et la mise en cache des requ√™tes d'API.","frontmatter":{"description":"Cet article d√©taille les diff√©rences entre Cold Observable et Hot Observable. Des exemples d'applications pratiques sont pr√©sent√©s, notamment l'ind√©pendance du flux de donn√©es par abonnement, la conversion de Cold √† Hot √† l'aide de share et shareReplay, et la mise en cache des requ√™tes d'API."},"headers":[],"relativePath":"fr/guide/observables/cold-and-hot-observables.md","filePath":"fr/guide/observables/cold-and-hot-observables.md","lastUpdated":1765219888000}`),e={name:"fr/guide/observables/cold-and-hot-observables.md"};function d(l,a,h,p,k,r){return t(),i("div",null,[...a[0]||(a[0]=[n(`<h1 id="cold-observable-et-hot-observable" tabindex="-1" data-v-a46b772f>Cold Observable et Hot Observable <a class="header-anchor" href="#cold-observable-et-hot-observable" aria-label="Permalink to &quot;Cold Observable et Hot Observable&quot;" data-v-a46b772f>‚Äã</a></h1><p data-v-a46b772f>L&#39;un des concepts cl√©s de l&#39;utilisation de RxJS est la distinction entre &quot;Cold Observable&quot; et &quot;Hot Observable&quot;. Il est essentiel de comprendre cette distinction pour apprendre √† utiliser efficacement Observable.</p><h2 id="pourquoi-il-est-important-de-comprendre-cold-hot" tabindex="-1" data-v-a46b772f>Pourquoi il est important de comprendre Cold/Hot <a class="header-anchor" href="#pourquoi-il-est-important-de-comprendre-cold-hot" aria-label="Permalink to &quot;Pourquoi il est important de comprendre Cold/Hot&quot;" data-v-a46b772f>‚Äã</a></h2><p data-v-a46b772f>Si vous ne comprenez pas la distinction Cold/Hot, vous serez confront√© aux probl√®mes suivants :</p><ul data-v-a46b772f><li data-v-a46b772f><strong data-v-a46b772f>Ex√©cution en double involontaire</strong> - Les appels API sont ex√©cut√©s plusieurs fois</li><li data-v-a46b772f><strong data-v-a46b772f>Fuites de m√©moire</strong> - Les abonnements ne sont pas correctement g√©r√©s</li><li data-v-a46b772f><strong data-v-a46b772f>Probl√®mes de performances</strong> - Des traitements inutiles sont r√©p√©t√©s</li><li data-v-a46b772f><strong data-v-a46b772f>Incoh√©rences de donn√©es</strong> - Les donn√©es attendues ne sont pas re√ßues</li></ul><h2 id="differences-entre-cold-et-hot-tableau-de-comparaison" tabindex="-1" data-v-a46b772f>Diff√©rences entre Cold et Hot (Tableau de comparaison) <a class="header-anchor" href="#differences-entre-cold-et-hot-tableau-de-comparaison" aria-label="Permalink to &quot;Diff√©rences entre Cold et Hot (Tableau de comparaison)&quot;" data-v-a46b772f>‚Äã</a></h2><p data-v-a46b772f>Commen√ßons par une vue d&#39;ensemble.</p><table tabindex="0" data-v-a46b772f><thead data-v-a46b772f><tr data-v-a46b772f><th data-v-a46b772f>√âl√©ment de comparaison</th><th data-v-a46b772f>Cold Observable</th><th data-v-a46b772f>Hot Observable</th></tr></thead><tbody data-v-a46b772f><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>Ex√©cution sans abonnement</strong></td><td data-v-a46b772f>Non ex√©cut√© (ex√©cut√© uniquement en cas d&#39;abonnement)</td><td data-v-a46b772f>Ex√©cut√© (flux de valeurs m√™me sans abonnement)</td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>Timing de publication des donn√©es</strong></td><td data-v-a46b772f>D√©marre quand <code data-v-a46b772f>subscribe()</code> est appel√©</td><td data-v-a46b772f>D√©marre au timing de l&#39;√©diteur (ind√©pendant de l&#39;abonnement)</td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>R√©utilisation de l&#39;ex√©cution</strong></td><td data-v-a46b772f>Ex√©cut√© √† nouveau √† chaque fois</td><td data-v-a46b772f>Partage du flux existant avec plusieurs abonn√©s</td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>Coh√©rence des donn√©es</strong></td><td data-v-a46b772f>Chaque abonnement re√ßoit des valeurs ind√©pendantes</td><td data-v-a46b772f>Ne peut pas recevoir les valeurs pass√©es si abonn√© en cours de flux</td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>Cas d&#39;utilisation principaux</strong></td><td data-v-a46b772f>Requ√™tes HTTP, traitement asynchrone</td><td data-v-a46b772f>√âv√©nements UI, WebSocket, communication en temps r√©el</td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>Sc√©narios d&#39;utilisation</strong></td><td data-v-a46b772f>Quand chaque processus est ind√©pendant</td><td data-v-a46b772f>Partage d&#39;√©tat, diffusion d&#39;√©v√©nements</td></tr></tbody></table><p data-v-a46b772f><strong data-v-a46b772f>Crit√®res :</strong> Le traitement doit-il √™tre r√©ex√©cut√© pour chaque abonn√© ? Ou le flux doit-il √™tre partag√© ?</p><h2 id="criteres-de-decision-cold-vs-hot" tabindex="-1" data-v-a46b772f>Crit√®res de d√©cision Cold vs. Hot <a class="header-anchor" href="#criteres-de-decision-cold-vs-hot" aria-label="Permalink to &quot;Crit√®res de d√©cision Cold vs. Hot&quot;" data-v-a46b772f>‚Äã</a></h2><p data-v-a46b772f>Les crit√®res suivants peuvent √™tre utilis√©s pour d√©terminer si un Observable est effectivement Cold ou Hot :</p><table tabindex="0" data-v-a46b772f><thead data-v-a46b772f><tr data-v-a46b772f><th data-v-a46b772f>Point de d√©cision</th><th data-v-a46b772f>Cold</th><th data-v-a46b772f>Hot</th></tr></thead><tbody data-v-a46b772f><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>La logique d&#39;ex√©cution est-elle r√©ex√©cut√©e pour chaque abonnement ?</strong></td><td data-v-a46b772f>‚úÖ R√©ex√©cution √† chaque fois</td><td data-v-a46b772f>‚ùå Partage de l&#39;ex√©cution</td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>Les donn√©es circulent-elles avant l&#39;abonnement ?</strong></td><td data-v-a46b772f>‚ùå Attend l&#39;abonnement</td><td data-v-a46b772f>‚úÖ Circule ind√©pendamment de l&#39;abonnement</td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>Plusieurs abonnements re√ßoivent-ils les m√™mes donn√©es ?</strong></td><td data-v-a46b772f>‚ùå Donn√©es ind√©pendantes</td><td data-v-a46b772f>‚úÖ Partage les m√™mes donn√©es</td></tr></tbody></table><h3 id="moyens-pratiques-de-distinction" tabindex="-1" data-v-a46b772f>Moyens pratiques de distinction <a class="header-anchor" href="#moyens-pratiques-de-distinction" aria-label="Permalink to &quot;Moyens pratiques de distinction&quot;" data-v-a46b772f>‚Äã</a></h3><p data-v-a46b772f>Le test suivant permet de d√©terminer facilement :</p><div class="language-typescript vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f> /* Observable √† examiner */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>/* abonnement 1 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>/* abonnement 2 */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// ‚úÖ Cold : console.log √† l&#39;int√©rieur de l&#39;Observable s&#39;ex√©cute deux fois</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>//          (la logique d&#39;ex√©cution s&#39;ex√©cute √† nouveau pour chaque abonnement)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// ‚úÖ Hot :  console.log √† l&#39;int√©rieur de l&#39;Observable s&#39;ex√©cute une seule fois</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>//          (l&#39;ex√©cution est partag√©e)</span></span></code></pre></div><p data-v-a46b772f><strong data-v-a46b772f>Exemple concret :</strong></p><div class="language-typescript vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> { Observable, Subject } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Cold Observable</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> cold$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>subscriber</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> {</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Cold : Ex√©cution d√©marr√©e&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>());</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>});</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>cold$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonnement 1:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, v));</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>cold$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonnement 2:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, v));</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Sortie :</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Cold : Ex√©cution d√©marr√©e  ‚Üê 1√®re fois</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Abonnement 1: 0.123...</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Cold : Ex√©cution d√©marr√©e  ‚Üê 2√®me fois (r√©ex√©cut√©)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Abonnement 2: 0.456...</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Hot Observable</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> hot$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> Subject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>();</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>hot$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonnement 1:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, v));</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>hot$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonnement 2:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, v));</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>hot$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Donn√©es publi√©es une seule fois</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Sortie :</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Abonnement 1: 1</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Abonnement 2: 1  ‚Üê Partage les m√™mes donn√©es</span></span></code></pre></div><h2 id="tableau-de-classification-cold-hot-par-fonction-de-creation" tabindex="-1" data-v-a46b772f>Tableau de classification Cold/Hot par fonction de cr√©ation <a class="header-anchor" href="#tableau-de-classification-cold-hot-par-fonction-de-creation" aria-label="Permalink to &quot;Tableau de classification Cold/Hot par fonction de cr√©ation&quot;" data-v-a46b772f>‚Äã</a></h2><p data-v-a46b772f>Ce tableau permet de classer Cold/Hot pour toutes les principales fonctions de cr√©ation. Il vous permet de voir d&#39;un coup d&#39;≈ìil quelle fonction produit quel Observable.</p><table tabindex="0" data-v-a46b772f><thead data-v-a46b772f><tr data-v-a46b772f><th data-v-a46b772f>Cat√©gorie</th><th data-v-a46b772f>Fonction de cr√©ation</th><th data-v-a46b772f>Cold/Hot</th><th data-v-a46b772f>Notes</th></tr></thead><tbody data-v-a46b772f><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>Cr√©ation de base</strong></td><td data-v-a46b772f><code data-v-a46b772f>of()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>Re-publie les valeurs pour chaque abonnement</td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>from()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>R√©-ex√©cute le tableau/Promise pour chaque abonnement</td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>fromEvent()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>Ajoute un listener ind√©pendant pour chaque abonnement <sup class="footnote-ref" data-v-a46b772f><a href="#fn1" id="fnref1" data-v-a46b772f>[1]</a></sup></td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>interval()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>Timer ind√©pendant pour chaque abonnement</td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>timer()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>Timer ind√©pendant pour chaque abonnement</td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>G√©n√©ration en boucle</strong></td><td data-v-a46b772f><code data-v-a46b772f>range()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>R√©g√©n√®re la plage pour chaque abonnement</td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>generate()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>R√©-ex√©cute la boucle pour chaque abonnement</td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>Communication HTTP</strong></td><td data-v-a46b772f><code data-v-a46b772f>ajax()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>Nouvelle requ√™te HTTP pour chaque abonnement</td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>fromFetch()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>Nouvelle requ√™te Fetch pour chaque abonnement</td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>Combinaison</strong></td><td data-v-a46b772f><code data-v-a46b772f>concat()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>H√©rite de la nature des Observables sources <sup class="footnote-ref" data-v-a46b772f><a href="#fn2" id="fnref2" data-v-a46b772f>[2]</a></sup></td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>merge()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>H√©rite de la nature des Observables sources <sup class="footnote-ref" data-v-a46b772f><a href="#fn2" id="fnref2:1" data-v-a46b772f>[2:1]</a></sup></td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>combineLatest()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>H√©rite de la nature des Observables sources <sup class="footnote-ref" data-v-a46b772f><a href="#fn2" id="fnref2:2" data-v-a46b772f>[2:2]</a></sup></td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>zip()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>H√©rite de la nature des Observables sources <sup class="footnote-ref" data-v-a46b772f><a href="#fn2" id="fnref2:3" data-v-a46b772f>[2:3]</a></sup></td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>forkJoin()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>H√©rite de la nature des Observables sources <sup class="footnote-ref" data-v-a46b772f><a href="#fn2" id="fnref2:4" data-v-a46b772f>[2:4]</a></sup></td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>S√©lection/Partition</strong></td><td data-v-a46b772f><code data-v-a46b772f>race()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>H√©rite de la nature des Observables sources <sup class="footnote-ref" data-v-a46b772f><a href="#fn2" id="fnref2:5" data-v-a46b772f>[2:5]</a></sup></td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>partition()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>H√©rite de la nature des Observables sources <sup class="footnote-ref" data-v-a46b772f><a href="#fn2" id="fnref2:6" data-v-a46b772f>[2:6]</a></sup></td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>Conditionnel</strong></td><td data-v-a46b772f><code data-v-a46b772f>iif()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>H√©rite de la nature de l&#39;Observable s√©lectionn√© conditionnellement</td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>defer()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>Ex√©cute la fonction factory pour chaque abonnement</td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>Contr√¥le</strong></td><td data-v-a46b772f><code data-v-a46b772f>scheduled()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>H√©rite de la nature de l&#39;Observable source</td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>using()</code></td><td data-v-a46b772f>‚ùÑÔ∏è Cold</td><td data-v-a46b772f>Cr√©e une ressource pour chaque abonnement</td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>Famille Subject</strong></td><td data-v-a46b772f><code data-v-a46b772f>new Subject()</code></td><td data-v-a46b772f>üî• Hot</td><td data-v-a46b772f>Toujours Hot</td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>new BehaviorSubject()</code></td><td data-v-a46b772f>üî• Hot</td><td data-v-a46b772f>Toujours Hot</td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>new ReplaySubject()</code></td><td data-v-a46b772f>üî• Hot</td><td data-v-a46b772f>Toujours Hot</td></tr><tr data-v-a46b772f><td data-v-a46b772f></td><td data-v-a46b772f><code data-v-a46b772f>new AsyncSubject()</code></td><td data-v-a46b772f>üî• Hot</td><td data-v-a46b772f>Toujours Hot</td></tr><tr data-v-a46b772f><td data-v-a46b772f><strong data-v-a46b772f>WebSocket</strong></td><td data-v-a46b772f><code data-v-a46b772f>webSocket()</code></td><td data-v-a46b772f>üî• Hot</td><td data-v-a46b772f>Partage la connexion WebSocket</td></tr></tbody></table><div class="important custom-block github-alert" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>Principe cl√©</p><p data-v-a46b772f><strong data-v-a46b772f>Presque toutes les fonctions de cr√©ation g√©n√®rent du Cold.</strong> Seules les suivantes g√©n√®rent du Hot :</p><ul data-v-a46b772f><li data-v-a46b772f>Famille Subject (Subject, BehaviorSubject, ReplaySubject, AsyncSubject)</li><li data-v-a46b772f>webSocket()</li></ul></div><h2 id="cold-observable" tabindex="-1" data-v-a46b772f>Cold Observable <a class="header-anchor" href="#cold-observable" aria-label="Permalink to &quot;Cold Observable&quot;" data-v-a46b772f>‚Äã</a></h2><h3 id="caracteristiques" tabindex="-1" data-v-a46b772f>Caract√©ristiques <a class="header-anchor" href="#caracteristiques" aria-label="Permalink to &quot;Caract√©ristiques&quot;" data-v-a46b772f>‚Äã</a></h3><ul data-v-a46b772f><li data-v-a46b772f><strong data-v-a46b772f>Un nouveau flux de donn√©es est cr√©√© √† chaque fois qu&#39;un abonnement est effectu√©</strong></li><li data-v-a46b772f><strong data-v-a46b772f>La publication des donn√©es ne commence pas tant qu&#39;il n&#39;y a pas d&#39;abonnement (ex√©cution paresseuse)</strong></li><li data-v-a46b772f><strong data-v-a46b772f>Tous les abonn√©s re√ßoivent toutes les donn√©es √† partir du d√©but de l&#39;Observable</strong></li></ul><p data-v-a46b772f>Cold Observable cr√©e un nouveau contexte d&#39;ex√©cution √† chaque fois que vous vous abonnez. Cela convient aux requ√™tes HTTP, au traitement asynchrone et √† d&#39;autres situations o√π un nouveau traitement est n√©cessaire √† chaque fois.</p><h3 id="exemple-de-code" tabindex="-1" data-v-a46b772f>Exemple de code <a class="header-anchor" href="#exemple-de-code" aria-label="Permalink to &quot;Exemple de code&quot;" data-v-a46b772f>‚Äã</a></h3><div class="language-typescript vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> { Observable } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Exemple de Cold Observable</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> cold$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>&gt;(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>subscriber</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> {</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Cr√©ation de source de donn√©es - nouvel abonnement&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> randomValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>();</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(randomValue);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>();</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>});</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Premier abonnement</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;--- Premier abonnement ---&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>cold$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonn√© 1:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, value));</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Deuxi√®me abonnement (des donn√©es diff√©rentes sont g√©n√©r√©es)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;--- Deuxi√®me abonnement ---&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>cold$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonn√© 2:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, value));</span></span></code></pre></div><h4 id="sortie" tabindex="-1" data-v-a46b772f>Sortie <a class="header-anchor" href="#sortie" aria-label="Permalink to &quot;Sortie&quot;" data-v-a46b772f>‚Äã</a></h4><div class="language-sh vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Premier</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> abonnement</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> ---</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Cr√©ation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> de</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> de</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> donn√©es</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> nouvel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> abonnement</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 0.259632...</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Deuxi√®me</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> abonnement</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> ---</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Cr√©ation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> de</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> de</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> donn√©es</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> nouvel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> abonnement</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>  ‚Üê</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> R√©ex√©cut√©</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 2:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 0.744322...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>  ‚Üê</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Valeur</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> diff√©rente</span></span></code></pre></div><div class="tip custom-block github-alert" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>Point important</p><p data-v-a46b772f>Chaque abonnement ex√©cute &quot;Cr√©ation de source de donn√©es&quot; et g√©n√®re des valeurs diff√©rentes.</p></div><h3 id="cold-observables-courants-comment-les-identifier" tabindex="-1" data-v-a46b772f>Cold Observables courants (Comment les identifier) <a class="header-anchor" href="#cold-observables-courants-comment-les-identifier" aria-label="Permalink to &quot;Cold Observables courants (Comment les identifier)&quot;" data-v-a46b772f>‚Äã</a></h3><p data-v-a46b772f>Les Observables suivants sont g√©n√©ralement Cold :</p><div class="language-typescript vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> { of, from, interval, timer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> { ajax } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;rxjs/ajax&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Fonctions de cr√©ation</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>)                    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Cold</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>])                </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Cold</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;/api/data&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>))       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Cold</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Op√©rateurs de temps</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>)                 </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Cold</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>timer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>)                    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Cold</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Requ√™tes HTTP</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>ajax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;/api/users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>)             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Cold</span></span></code></pre></div><div class="tip custom-block github-alert" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>R√®gle</p><p data-v-a46b772f>Les fonctions de cr√©ation, les op√©rateurs de temps et les requ√™tes HTTP sont g√©n√©ralement Cold</p></div><h2 id="hot-observable" tabindex="-1" data-v-a46b772f>Hot Observable <a class="header-anchor" href="#hot-observable" aria-label="Permalink to &quot;Hot Observable&quot;" data-v-a46b772f>‚Äã</a></h2><h3 id="caracteristiques-1" tabindex="-1" data-v-a46b772f>Caract√©ristiques <a class="header-anchor" href="#caracteristiques-1" aria-label="Permalink to &quot;Caract√©ristiques&quot;" data-v-a46b772f>‚Äã</a></h3><ul data-v-a46b772f><li data-v-a46b772f><strong data-v-a46b772f>√âmet des valeurs m√™me sans abonnement (s&#39;ex√©cute avec ou sans abonnement)</strong></li><li data-v-a46b772f><strong data-v-a46b772f>Ne re√ßoit des donn√©es qu&#39;√† partir du moment o√π l&#39;abonnement est lanc√©</strong></li><li data-v-a46b772f><strong data-v-a46b772f>Une source de donn√©es est partag√©e par plusieurs abonn√©s</strong></li></ul><p data-v-a46b772f>Avec Hot Observable, le timing de publication du flux est ind√©pendant de l&#39;abonnement, et les abonn√©s rejoignent le flux en cours.</p><h3 id="exemple-de-code-1" tabindex="-1" data-v-a46b772f>Exemple de code <a class="header-anchor" href="#exemple-de-code-1" aria-label="Permalink to &quot;Exemple de code&quot;" data-v-a46b772f>‚Äã</a></h3><div class="language-typescript vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> { Subject } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Exemple de Hot Observable (utilisant Subject)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> hot$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> Subject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>&gt;();</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Premier abonnement</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;--- Abonn√© 1 d√©marre ---&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>hot$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonn√© 1:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, value));</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Publication de donn√©es</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>hot$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>hot$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Deuxi√®me abonnement (abonnement tardif)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;--- Abonn√© 2 d√©marre ---&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>hot$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonn√© 2:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, value));</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Publication de plus de donn√©es</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>hot$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>hot$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>hot$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>();</span></span></code></pre></div><h4 id="sortie-1" tabindex="-1" data-v-a46b772f>Sortie <a class="header-anchor" href="#sortie-1" aria-label="Permalink to &quot;Sortie&quot;" data-v-a46b772f>‚Äã</a></h4><div class="language-sh vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Abonn√©</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> d√©marre</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> ---</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 1</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 2</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Abonn√©</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> d√©marre</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> ---</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 3</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 2:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>  ‚Üê</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Abonnement</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> rejoint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> √†</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> partir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> de</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> (ne </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>peut</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> pas</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> recevoir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 4</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 2:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 4</span></span></code></pre></div><div class="tip custom-block github-alert" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>Point important</p><p data-v-a46b772f>L&#39;abonn√© 2 a rejoint en cours de flux et ne peut pas recevoir les valeurs pass√©es (1, 2).</p></div><h3 id="hot-observables-courants-comment-les-identifier" tabindex="-1" data-v-a46b772f>Hot Observables courants (Comment les identifier) <a class="header-anchor" href="#hot-observables-courants-comment-les-identifier" aria-label="Permalink to &quot;Hot Observables courants (Comment les identifier)&quot;" data-v-a46b772f>‚Äã</a></h3><p data-v-a46b772f>Les Observables suivants sont toujours Hot :</p><div class="language-typescript vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> { Subject, BehaviorSubject, ReplaySubject } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> { webSocket } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;rxjs/webSocket&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Famille Subject (toujours Hot)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> Subject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>()                  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Hot</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> BehaviorSubject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>)         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Hot</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> ReplaySubject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>)           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Hot</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// WebSocket (toujours Hot)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>webSocket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;ws://localhost:8080&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Hot</span></span></code></pre></div><div class="tip custom-block github-alert" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>R√®gle</p><p data-v-a46b772f><strong data-v-a46b772f>Seuls la famille Subject et webSocket() g√©n√®rent du Hot</strong></p></div><div class="warning custom-block github-alert" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>fromEvent() est Cold</p><p data-v-a46b772f><code data-v-a46b772f>fromEvent(button, &#39;click&#39;)</code> est souvent consid√©r√© √† tort comme Hot, mais il est en fait <strong data-v-a46b772f>Cold</strong>. Il ajoute un listener d&#39;√©v√©nement ind√©pendant pour chaque abonnement. L&#39;√©v√©nement lui-m√™me se produit ind√©pendamment de l&#39;abonnement, mais chaque abonn√© a un listener ind√©pendant.</p></div><h2 id="comment-convertir-un-cold-observable-en-hot" tabindex="-1" data-v-a46b772f>Comment convertir un Cold Observable en Hot <a class="header-anchor" href="#comment-convertir-un-cold-observable-en-hot" aria-label="Permalink to &quot;Comment convertir un Cold Observable en Hot&quot;" data-v-a46b772f>‚Äã</a></h2><p data-v-a46b772f>En RxJS, les principaux moyens de convertir un Cold Observable en Hot sont les suivants :</p><ul data-v-a46b772f><li data-v-a46b772f><code data-v-a46b772f>share()</code> - Conversion simple en hot (recommand√©)</li><li data-v-a46b772f><code data-v-a46b772f>shareReplay()</code> - Met en cache les valeurs pass√©es et convertit en hot</li><li data-v-a46b772f><s data-v-a46b772f><code data-v-a46b772f>multicast()</code></s> - D√©pr√©ci√© (d√©pr√©ci√© dans RxJS v7, supprim√© dans v8)</li></ul><h3 id="operateur-share" tabindex="-1" data-v-a46b772f>Op√©rateur share() <a class="header-anchor" href="#operateur-share" aria-label="Permalink to &quot;Op√©rateur share()&quot;" data-v-a46b772f>‚Äã</a></h3><p data-v-a46b772f><code data-v-a46b772f>share()</code> est la fa√ßon la plus courante de convertir un Cold Observable en Hot Observable.</p><div class="language-typescript vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> { interval } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> { share, take } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Simuler un appel HTTP</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> makeHttpRequest</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> {</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Appel HTTP ex√©cut√© !&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>  return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>take</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>));</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>};</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// ‚ùå Cold Observable (pas de partage)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> cold$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> makeHttpRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>();</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>cold$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonn√© 1:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, val));</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>cold$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonn√© 2:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, val));</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// ‚Üí Appel HTTP ex√©cut√© deux fois</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// ‚úÖ Hot Observable (utilisant share)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> shared$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> makeHttpRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>share</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>());</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>shared$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonn√© partag√© 1:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, val));</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>shared$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonn√© partag√© 2:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, val));</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// ‚Üí Appel HTTP ex√©cut√© une seule fois, le r√©sultat est partag√©</span></span></code></pre></div><p data-v-a46b772f><strong data-v-a46b772f>Sortie (Cold) :</strong></p><div class="language-sh vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Appel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> HTTP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> ex√©cut√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> !</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>  ‚Üê</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1√®re</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> fois</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 0</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Appel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> HTTP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> ex√©cut√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> !</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>  ‚Üê</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 2√®me</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> fois</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> (doublon </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 2:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 0</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>...</span></span></code></pre></div><p data-v-a46b772f><strong data-v-a46b772f>Sortie (Hot) :</strong></p><div class="language-sh vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Appel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> HTTP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> ex√©cut√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> !</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>  ‚Üê</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Une</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> seule</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> fois</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> partag√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 0</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> partag√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 2:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>  ‚Üê</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Partage</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> le</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> m√™me</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> flux</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>...</span></span></code></pre></div><div class="note custom-block github-alert" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>Cas d&#39;utilisation</p><p data-v-a46b772f></p><ul data-v-a46b772f><li data-v-a46b772f>Utiliser les m√™mes r√©sultats d&#39;API dans plusieurs composants</li><li data-v-a46b772f>√âviter les effets secondaires en double (par exemple, les appels HTTP)</li></ul></div><h3 id="operateur-sharereplay" tabindex="-1" data-v-a46b772f>Op√©rateur shareReplay() <a class="header-anchor" href="#operateur-sharereplay" aria-label="Permalink to &quot;Op√©rateur shareReplay()&quot;" data-v-a46b772f>‚Äã</a></h3><p data-v-a46b772f><code data-v-a46b772f>shareReplay()</code> est une extension de <code data-v-a46b772f>share()</code> qui <strong data-v-a46b772f>met en cache</strong> les valeurs pass√©es et les rediffuse aux nouveaux abonn√©s.</p><div class="language-typescript vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> { interval } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> { shareReplay, take } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> request$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>  take</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>),</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>  shareReplay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Mettre en cache les 2 derni√®res valeurs</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Premier abonnement</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>request$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonn√© 1:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, val));</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Deuxi√®me abonnement apr√®s 3,5 secondes (apr√®s la fin du flux)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> {</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;--- Abonn√© 2 d√©marre (apr√®s la fin) ---&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  request$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Abonn√© 2:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, val));</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>3500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span></code></pre></div><h4 id="sortie-2" tabindex="-1" data-v-a46b772f>Sortie <a class="header-anchor" href="#sortie-2" aria-label="Permalink to &quot;Sortie&quot;" data-v-a46b772f>‚Äã</a></h4><div class="language-sh vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 0</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 1</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 2</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Abonn√©</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> d√©marre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> (apr√®s </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>la</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> fin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>) ---</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 2:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>  ‚Üê</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Valeur</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> mise</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> en</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> (2 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>derni√®res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Abonn√©</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 2:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>  ‚Üê</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Valeur</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> mise</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> en</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> cache</span></span></code></pre></div><div class="note custom-block github-alert" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>Cas d&#39;utilisation</p><p data-v-a46b772f></p><ul data-v-a46b772f><li data-v-a46b772f>Mise en cache des r√©sultats d&#39;API</li><li data-v-a46b772f>Partager l&#39;√©tat initial (ne mettre en cache que le dernier)</li><li data-v-a46b772f>Fournir des donn√©es historiques aux abonn√©s tardifs</li></ul></div><div class="warning custom-block github-alert" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>Notes sur shareReplay</p><p data-v-a46b772f><code data-v-a46b772f>shareReplay()</code> continue √† conserver le cache m√™me lorsque les abonnements passent √† 0, ce qui peut provoquer des fuites de m√©moire. Voir <a href="/RxJS-with-TypeScript/fr/guide/anti-patterns/common-mistakes#4-sharereplay-misuse" data-v-a46b772f>Chapitre 10 : Mauvaise utilisation de shareReplay</a> pour plus d&#39;informations.</p></div><h3 id="a-propos-de-multicast" tabindex="-1" data-v-a46b772f>√Ä propos de multicast() <a class="header-anchor" href="#a-propos-de-multicast" aria-label="Permalink to &quot;√Ä propos de multicast()&quot;" data-v-a46b772f>‚Äã</a></h3><div class="note custom-block github-alert" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>NOTE</p><p data-v-a46b772f><code data-v-a46b772f>multicast()</code> est flexible, mais a √©t√© d√©pr√©ci√© dans RxJS v7 et supprim√© dans v8. Utilisez <code data-v-a46b772f>share()</code> ou <code data-v-a46b772f>shareReplay()</code> maintenant. Voir <a href="/RxJS-with-TypeScript/fr/guide/operators/multicasting/share" data-v-a46b772f>description de l&#39;op√©rateur share()</a> pour plus d&#39;informations.</p></div><h2 id="exemple-pratique-service-de-cache-d-api" tabindex="-1" data-v-a46b772f>Exemple pratique : Service de cache d&#39;API <a class="header-anchor" href="#exemple-pratique-service-de-cache-d-api" aria-label="Permalink to &quot;Exemple pratique : Service de cache d&#39;API&quot;" data-v-a46b772f>‚Äã</a></h2><p data-v-a46b772f>Mod√®le courant dans les applications r√©elles : plusieurs composants ont besoin des m√™mes donn√©es d&#39;API.</p><div class="language-typescript vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> { Observable, of, throwError } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> { catchError, shareReplay, delay, tap } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Service de cache simple</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> UserService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> {</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>  private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f> cache$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>[]&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>  getUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>[]&gt; {</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>    // Retourner le cache s&#39;il existe</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>.cache$) {</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Retour depuis le cache&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>      return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>.cache$;</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>    }</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>    // Cr√©er une nouvelle requ√™te et mettre en cache</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Ex√©cution d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>\\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>une nouvelle requ√™te&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>.cache$ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>fetchUsersFromAPI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>      catchError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> {</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>.cache$ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Effacer le cache en cas d&#39;erreur</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>        return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> throwError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> err);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>      }),</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>      shareReplay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Mettre en cache le dernier r√©sultat</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>    );</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>.cache$;</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  }</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>  private</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> fetchUsersFromAPI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>[]&gt; {</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>    // Simuler une requ√™te API r√©elle</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>([</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>      { id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Taro Yamada&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> },</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>      { id: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Hanako Sato&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> }</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>    ]).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>      delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>),</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>      tap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Donn√©es re√ßues de l</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>\\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>API&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>))</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>    );</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  }</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>  clearCache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> {</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>.cache$ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Cache effac√©&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  }</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>}</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> {</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>;</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>}</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Exemple d&#39;utilisation</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f> userService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f> UserService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>();</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Composant 1 : Demande de donn√©es</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>userService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>getUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>users</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Composant 1:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, users)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Composant 2 : Demande de donn√©es apr√®s 2 secondes</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> {</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  userService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>getUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>users</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Composant 2:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, users)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  );</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>2000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span>
<span class="line" data-v-a46b772f></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-a46b772f>// Effacer le cache et demander √† nouveau</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> {</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  userService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>clearCache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>();</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  userService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>getUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-a46b772f>users</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-a46b772f> =&gt;</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>&#39;Composant 3:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>, users)</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>  );</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-a46b772f>4000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f>);</span></span></code></pre></div><h4 id="sortie-3" tabindex="-1" data-v-a46b772f>Sortie <a class="header-anchor" href="#sortie-3" aria-label="Permalink to &quot;Sortie&quot;" data-v-a46b772f>‚Äã</a></h4><div class="language-sh vp-adaptive-theme" data-v-a46b772f><button title="Copy Code" class="copy" data-v-a46b772f></button><span class="lang" data-v-a46b772f>sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-a46b772f><code data-v-a46b772f><span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Ex√©cution</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> d&#39;une nouvelle requ√™te</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>Donn√©es re√ßues de l&#39;API</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Composant</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-a46b772f> [{</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>id:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> name:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;Taro Yamada&#39;},</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> {id:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> 2,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> name:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> &#39;Hanako Sato&#39;}]</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Retour</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> depuis</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> le</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> cache</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>  ‚Üê</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Pas</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> d&#39;appel API</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>Composant 2: [{id: 1, name: &#39;Taro</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Yamada&#39;}, {id: 2, name: &#39;Hanako</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Sato&#39;}]</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>Cache effac√©</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>Ex√©cution d&#39;une</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> nouvelle</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> requ√™te</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>  ‚Üê</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Nouvel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> appel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> API</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-a46b772f>Donn√©es</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> re√ßues</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> de</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> l&#39;API</span></span>
<span class="line" data-v-a46b772f><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f>Composant 3: [{id: 1, name: &#39;Taro</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Yamada&#39;}, {id: 2, name: &#39;Hanako</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-a46b772f> Sato&#39;}]</span></span></code></pre></div><p data-v-a46b772f><strong data-v-a46b772f>Points :</strong></p><ul data-v-a46b772f><li data-v-a46b772f>Mettre en cache la derni√®re r√©ponse avec <code data-v-a46b772f>shareReplay(1)</code></li><li data-v-a46b772f>Plusieurs composants partagent les donn√©es (un seul appel API)</li><li data-v-a46b772f>Abandonner le cache de mani√®re appropri√©e en cas d&#39;erreur ou d&#39;effacement</li></ul><h2 id="quand-utiliser" tabindex="-1" data-v-a46b772f>Quand utiliser <a class="header-anchor" href="#quand-utiliser" aria-label="Permalink to &quot;Quand utiliser&quot;" data-v-a46b772f>‚Äã</a></h2><div class="comparison-cards" data-v-a46b772f><div class="tip custom-block" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>Cold</p><h4 id="quand-utiliser-1" tabindex="-1" data-v-a46b772f>Quand utiliser <a class="header-anchor" href="#quand-utiliser-1" aria-label="Permalink to &quot;Quand utiliser&quot;" data-v-a46b772f>‚Äã</a></h4><ul data-v-a46b772f><li data-v-a46b772f>Quand chaque abonn√© a besoin de son propre ensemble de donn√©es</li><li data-v-a46b772f>Quand il s&#39;agit de repr√©senter un processus ou une action qui vient de d√©marrer</li><li data-v-a46b772f>Quand les effets secondaires en double ne posent pas de probl√®me</li></ul><h4 id="exemples" tabindex="-1" data-v-a46b772f>Exemples <a class="header-anchor" href="#exemples" aria-label="Permalink to &quot;Exemples&quot;" data-v-a46b772f>‚Äã</a></h4><ul data-v-a46b772f><li data-v-a46b772f>Envoyer une nouvelle requ√™te POST pour chaque soumission de formulaire</li><li data-v-a46b772f>Timer diff√©rent pour chaque utilisateur</li><li data-v-a46b772f>Ex√©cuter un calcul ind√©pendant pour chaque abonnement</li></ul></div><div class="tip custom-block" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>Hot</p><h4 id="quand-utiliser-2" tabindex="-1" data-v-a46b772f>Quand utiliser <a class="header-anchor" href="#quand-utiliser-2" aria-label="Permalink to &quot;Quand utiliser&quot;" data-v-a46b772f>‚Äã</a></h4><ul data-v-a46b772f><li data-v-a46b772f>Quand vous partagez des donn√©es entre plusieurs composants</li><li data-v-a46b772f>Quand vous voulez √©conomiser des ressources (par ex., r√©duire le nombre d&#39;appels HTTP)</li><li data-v-a46b772f>Quand vous repr√©sentez des flux d&#39;√©v√©nements</li><li data-v-a46b772f>Gestion d&#39;√©tat ou communication inter-services</li></ul><h4 id="exemples-1" tabindex="-1" data-v-a46b772f>Exemples <a class="header-anchor" href="#exemples-1" aria-label="Permalink to &quot;Exemples&quot;" data-v-a46b772f>‚Äã</a></h4><ul data-v-a46b772f><li data-v-a46b772f>Informations de configuration partag√©es dans l&#39;application</li><li data-v-a46b772f>√âtat de connexion de l&#39;utilisateur</li><li data-v-a46b772f>Messages en temps r√©el (WebSocket)</li><li data-v-a46b772f>√âv√©nements DOM (clic, d√©filement, etc.)</li></ul></div></div><h2 id="resume" tabindex="-1" data-v-a46b772f>R√©sum√© <a class="header-anchor" href="#resume" aria-label="Permalink to &quot;R√©sum√©&quot;" data-v-a46b772f>‚Äã</a></h2><p data-v-a46b772f>Comprendre et utiliser correctement Cold Observable et Hot Observable est une comp√©tence importante pour construire des applications RxJS efficaces.</p><div class="tip custom-block" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>Points cl√©s</p><ul data-v-a46b772f><li data-v-a46b772f><strong data-v-a46b772f>Cold Observable</strong> : Un flux qui ne commence √† s&#39;ex√©cuter qu&#39;apr√®s avoir √©t√© souscrit (ex√©cution ind√©pendante par abonnement)</li><li data-v-a46b772f><strong data-v-a46b772f>Hot Observable</strong> : Partage un flux d√©j√† en cours d&#39;ex√©cution (m√™me ex√©cution pour plusieurs abonnements)</li><li data-v-a46b772f><strong data-v-a46b772f>share()</strong> : Le moyen le plus simple de convertir Cold en Hot</li><li data-v-a46b772f><strong data-v-a46b772f>shareReplay()</strong> : Met en cache les valeurs pass√©es et convertit en Hot (utile pour partager les r√©sultats d&#39;API)</li></ul></div><div class="tip custom-block" data-v-a46b772f><p class="custom-block-title" data-v-a46b772f>Crit√®res de d√©cision de conception</p><ul data-v-a46b772f><li data-v-a46b772f>Avez-vous besoin de partager des donn√©es entre plusieurs abonn√©s ?</li><li data-v-a46b772f>Est-il n√©cessaire de mettre en cache les valeurs pass√©es et de les fournir aux nouveaux abonn√©s ?</li><li data-v-a46b772f>Comment les effets secondaires en double (par ex., les requ√™tes HTTP) seront-ils g√©r√©s ?</li></ul></div><p data-v-a46b772f>Sur la base de ces consid√©rations, s√©lectionner le type d&#39;Observable et l&#39;op√©rateur appropri√©s vous aidera √† construire une application r√©active efficace et robuste.</p><h2 id="sections-connexes" tabindex="-1" data-v-a46b772f>Sections connexes <a class="header-anchor" href="#sections-connexes" aria-label="Permalink to &quot;Sections connexes&quot;" data-v-a46b772f>‚Äã</a></h2><ul data-v-a46b772f><li data-v-a46b772f><strong data-v-a46b772f><a href="/RxJS-with-TypeScript/fr/guide/operators/multicasting/share" data-v-a46b772f>Op√©rateur share()</a></strong> - Explication d√©taill√©e de share()</li><li data-v-a46b772f><strong data-v-a46b772f><a href="/RxJS-with-TypeScript/fr/guide/anti-patterns/common-mistakes#4-sharereplay-misuse" data-v-a46b772f>Mauvaise utilisation de shareReplay</a></strong> - Erreurs courantes et solutions</li><li data-v-a46b772f><strong data-v-a46b772f><a href="/RxJS-with-TypeScript/fr/guide/subjects/what-is-subject" data-v-a46b772f>Subject</a></strong> - Comprendre les Subjects Hot</li></ul><hr class="footnotes-sep" data-v-a46b772f><section class="footnotes" data-v-a46b772f><ol class="footnotes-list" data-v-a46b772f><li id="fn1" class="footnote-item" data-v-a46b772f><p data-v-a46b772f><code data-v-a46b772f>fromEvent()</code> est Cold car il ajoute un listener d&#39;√©v√©nement ind√©pendant pour chaque abonnement. Cependant, l&#39;√©v√©nement lui-m√™me se produit ind√©pendamment de l&#39;abonnement, il est donc facilement mal compris comme Hot. <a href="#fnref1" class="footnote-backref" data-v-a46b772f>‚Ü©Ô∏é</a></p></li><li id="fn2" class="footnote-item" data-v-a46b772f><p data-v-a46b772f>Les fonctions de cr√©ation de combinaison sont Cold si l&#39;Observable source est Cold, et Hot si elle est Hot. Habituellement, des Observables Cold sont combin√©s. <a href="#fnref2" class="footnote-backref" data-v-a46b772f>‚Ü©Ô∏é</a> <a href="#fnref2:1" class="footnote-backref" data-v-a46b772f>‚Ü©Ô∏é</a> <a href="#fnref2:2" class="footnote-backref" data-v-a46b772f>‚Ü©Ô∏é</a> <a href="#fnref2:3" class="footnote-backref" data-v-a46b772f>‚Ü©Ô∏é</a> <a href="#fnref2:4" class="footnote-backref" data-v-a46b772f>‚Ü©Ô∏é</a> <a href="#fnref2:5" class="footnote-backref" data-v-a46b772f>‚Ü©Ô∏é</a> <a href="#fnref2:6" class="footnote-backref" data-v-a46b772f>‚Ü©Ô∏é</a></p></li></ol></section>`,86)])])}const f=s(e,[["render",d],["__scopeId","data-v-a46b772f"]]);export{v as __pageData,f as default};
