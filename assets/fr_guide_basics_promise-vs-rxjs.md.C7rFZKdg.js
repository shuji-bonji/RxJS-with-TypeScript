import{_ as s,c as i,o as t,a2 as n}from"./chunks/framework.D3KFGq5-.js";const v=JSON.parse(`{"title":"Différences entre Promise et RxJS","description":"Comprenez les différences entre Promise et RxJS et apprenez à les utiliser de manière appropriée. Promise est spécialisé dans le traitement asynchrone unique et s'exécute immédiatement, tandis que RxJS est évalué paresseusement, peut gérer plusieurs valeurs et peut être annulé et réutilisé. Ce guide explique en détail les caractéristiques de chacun et les critères de sélection à l'aide de comparaisons de code et de cas d'utilisation spécifiques.","frontmatter":{"description":"Comprenez les différences entre Promise et RxJS et apprenez à les utiliser de manière appropriée. Promise est spécialisé dans le traitement asynchrone unique et s'exécute immédiatement, tandis que RxJS est évalué paresseusement, peut gérer plusieurs valeurs et peut être annulé et réutilisé. Ce guide explique en détail les caractéristiques de chacun et les critères de sélection à l'aide de comparaisons de code et de cas d'utilisation spécifiques."},"headers":[],"relativePath":"fr/guide/basics/promise-vs-rxjs.md","filePath":"fr/guide/basics/promise-vs-rxjs.md","lastUpdated":1765219888000}`),e={name:"fr/guide/basics/promise-vs-rxjs.md"};function l(d,a,h,p,k,r){return t(),i("div",null,[...a[0]||(a[0]=[n(`<h1 id="differences-entre-promise-et-rxjs" tabindex="-1" data-v-950b4f25>Différences entre Promise et RxJS <a class="header-anchor" href="#differences-entre-promise-et-rxjs" aria-label="Permalink to &quot;Différences entre Promise et RxJS&quot;" data-v-950b4f25>​</a></h1><h2 id="vue-d-ensemble" tabindex="-1" data-v-950b4f25>Vue d&#39;ensemble <a class="header-anchor" href="#vue-d-ensemble" aria-label="Permalink to &quot;Vue d&#39;ensemble&quot;" data-v-950b4f25>​</a></h2><p data-v-950b4f25>Les principaux outils de traitement asynchrone en JavaScript/TypeScript sont <strong data-v-950b4f25>Promise</strong> et <strong data-v-950b4f25>RxJS (Observable)</strong>. Bien que ces deux outils soient parfois utilisés à des fins similaires, leur philosophie de conception et leurs cas d&#39;utilisation sont très différents.</p><p data-v-950b4f25>Cette page fournit des informations qui vous aideront à comprendre les différences entre Promise et RxJS et à décider lequel utiliser.</p><h2 id="differences-fondamentales" tabindex="-1" data-v-950b4f25>Différences fondamentales <a class="header-anchor" href="#differences-fondamentales" aria-label="Permalink to &quot;Différences fondamentales&quot;" data-v-950b4f25>​</a></h2><table tabindex="0" data-v-950b4f25><thead data-v-950b4f25><tr data-v-950b4f25><th data-v-950b4f25>Élément</th><th data-v-950b4f25>Promise</th><th data-v-950b4f25>RxJS (Observable)</th></tr></thead><tbody data-v-950b4f25><tr data-v-950b4f25><td data-v-950b4f25><strong data-v-950b4f25>Standardisation</strong></td><td data-v-950b4f25>Standard JavaScript (ES6/ES2015)</td><td data-v-950b4f25>Bibliothèque tierce</td></tr><tr data-v-950b4f25><td data-v-950b4f25><strong data-v-950b4f25>Valeurs émises</strong></td><td data-v-950b4f25>Une seule valeur</td><td data-v-950b4f25>Zéro ou plusieurs valeurs</td></tr><tr data-v-950b4f25><td data-v-950b4f25><strong data-v-950b4f25>Évaluation</strong></td><td data-v-950b4f25>Avide (exécute immédiatement à la création)</td><td data-v-950b4f25>Paresseux (exécute à l&#39;abonnement)</td></tr><tr data-v-950b4f25><td data-v-950b4f25><strong data-v-950b4f25>Annulation</strong></td><td data-v-950b4f25>Pas possible<sup class="footnote-ref" data-v-950b4f25><a href="#fn1" id="fnref1" data-v-950b4f25>[1]</a></sup></td><td data-v-950b4f25>Possible (<code data-v-950b4f25>unsubscribe()</code>)</td></tr><tr data-v-950b4f25><td data-v-950b4f25><strong data-v-950b4f25>Réutilisabilité</strong></td><td data-v-950b4f25>Pas possible (le résultat n&#39;est obtenu qu&#39;une seule fois)</td><td data-v-950b4f25>Possible (on peut s&#39;abonner plusieurs fois)</td></tr><tr data-v-950b4f25><td data-v-950b4f25><strong data-v-950b4f25>Coût d&#39;apprentissage</strong></td><td data-v-950b4f25>Faible</td><td data-v-950b4f25>Élevé (nécessite la compréhension des opérateurs)</td></tr><tr data-v-950b4f25><td data-v-950b4f25><strong data-v-950b4f25>Cas d&#39;utilisation</strong></td><td data-v-950b4f25>Traitement asynchrone simple</td><td data-v-950b4f25>Traitement de flux complexe</td></tr></tbody></table><h2 id="comparaison-de-code-traitement-asynchrone-simple" tabindex="-1" data-v-950b4f25>Comparaison de code : Traitement asynchrone simple <a class="header-anchor" href="#comparaison-de-code-traitement-asynchrone-simple" aria-label="Permalink to &quot;Comparaison de code : Traitement asynchrone simple&quot;" data-v-950b4f25>​</a></h2><h3 id="promise" tabindex="-1" data-v-950b4f25>Promise <a class="header-anchor" href="#promise" aria-label="Permalink to &quot;Promise&quot;" data-v-950b4f25>​</a></h3><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Promise s&#39;exécute immédiatement après sa création (Eager)</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;https://jsonplaceholder.typicode.com/posts/1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>)</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>())</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(data))</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(error));</span></span></code></pre></div><p data-v-950b4f25>Promise <strong data-v-950b4f25>commence à s&#39;exécuter dès qu&#39;elle est définie</strong> (évaluation Eager).</p><h3 id="rxjs" tabindex="-1" data-v-950b4f25>RxJS <a class="header-anchor" href="#rxjs" aria-label="Permalink to &quot;RxJS&quot;" data-v-950b4f25>​</a></h3><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { from } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { switchMap, catchError } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { of } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Observable ne s&#39;exécute pas tant qu&#39;il n&#39;est pas souscrit (Lazy)</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;https://jsonplaceholder.typicode.com/posts/1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  switchMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>()), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// response.json() renvoie une Promise, donc utiliser switchMap</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  catchError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(error);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  })</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// L&#39;exécution ne commence que lorsque l&#39;on est abonné</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(data));</span></span></code></pre></div><p data-v-950b4f25>RxJS <strong data-v-950b4f25>ne s&#39;exécute pas tant que <code data-v-950b4f25>subscribe()</code> n&#39;est pas appelé</strong> (Lazy evaluation). S&#39;abonner au même Observable plusieurs fois résulte en des exécutions indépendantes, et le traitement peut être interrompu avec <code data-v-950b4f25>unsubscribe()</code>.</p><div class="tip custom-block github-alert" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>TIP</p><p data-v-950b4f25><strong data-v-950b4f25>Conseils pratiques d&#39;utilisation</strong></p><ul data-v-950b4f25><li data-v-950b4f25>Traitement immédiat et ponctuel → Promise</li><li data-v-950b4f25>Traitement à exécuter à un moment précis ou plusieurs fois → RxJS</li></ul></div><h2 id="comparaison-de-code-traitement-des-valeurs-multiples" tabindex="-1" data-v-950b4f25>Comparaison de code : Traitement des valeurs multiples <a class="header-anchor" href="#comparaison-de-code-traitement-des-valeurs-multiples" aria-label="Permalink to &quot;Comparaison de code : Traitement des valeurs multiples&quot;" data-v-950b4f25>​</a></h2><p data-v-950b4f25>L&#39;une des plus grandes différences entre Promise et RxJS est le nombre de valeurs qui peuvent être émises. Promise ne peut renvoyer qu&#39;une seule valeur, alors que RxJS peut émettre plusieurs valeurs au fil du temps.</p><h3 id="impossible-avec-promise" tabindex="-1" data-v-950b4f25>Impossible avec Promise <a class="header-anchor" href="#impossible-avec-promise" aria-label="Permalink to &quot;Impossible avec Promise&quot;" data-v-950b4f25>​</a></h3><p data-v-950b4f25>Promise ne peut <strong data-v-950b4f25>résoudre qu&#39;une seule fois</strong>.</p><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Promise ne peut renvoyer qu&#39;une seule valeur</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>resolve</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Cette valeur est ignorée</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Cette valeur est également ignorée</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>});</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>promise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(value));</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Sortie : 1 (seulement la première valeur)</span></span></code></pre></div><p data-v-950b4f25>Une fois que la valeur est déterminée par le premier <code data-v-950b4f25>resolve()</code>, les appels <code data-v-950b4f25>resolve()</code> suivants sont ignorés.</p><h3 id="possible-avec-rxjs" tabindex="-1" data-v-950b4f25>Possible avec RxJS <a class="header-anchor" href="#possible-avec-rxjs" aria-label="Permalink to &quot;Possible avec RxJS&quot;" data-v-950b4f25>​</a></h3><p data-v-950b4f25>Observable <strong data-v-950b4f25>peut émettre des valeurs un nombre illimité de fois</strong>.</p><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { Observable } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Observable peut émettre plusieurs valeurs</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>subscriber</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>();</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>});</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(value));</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Sortie : 1, 2, 3</span></span></code></pre></div><p data-v-950b4f25>Chaque fois que <code data-v-950b4f25>next()</code> est appelé, la valeur est délivrée à l&#39;abonné. Après l&#39;émission de toutes les valeurs, l&#39;achèvement est notifié par <code data-v-950b4f25>complete()</code>. Cette caractéristique permet de traiter naturellement des séries temporelles de données changeantes telles que la communication en temps réel, les données en continu et le traitement d&#39;événements continus.</p><div class="note custom-block github-alert" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>NOTE</p><p data-v-950b4f25><strong data-v-950b4f25>Exemples d&#39;applications pratiques</strong></p><ul data-v-950b4f25><li data-v-950b4f25>Réception de messages WebSocket</li><li data-v-950b4f25>Traitement séquentiel des entrées clavier</li><li data-v-950b4f25>Flux d&#39;événements du serveur (SSE)</li><li data-v-950b4f25>Surveillance continue des données des capteurs</li></ul></div><h2 id="comparaison-des-annulations" tabindex="-1" data-v-950b4f25>Comparaison des annulations <a class="header-anchor" href="#comparaison-des-annulations" aria-label="Permalink to &quot;Comparaison des annulations&quot;" data-v-950b4f25>​</a></h2><p data-v-950b4f25>La possibilité d&#39;annuler un traitement asynchrone long ou inutile est importante du point de vue de la gestion des ressources et de l&#39;expérience utilisateur. Il existe des différences significatives dans les capacités d&#39;annulation entre Promise et RxJS.</p><h3 id="promise-non-annulable" tabindex="-1" data-v-950b4f25>Promise (non annulable) <a class="header-anchor" href="#promise-non-annulable" aria-label="Permalink to &quot;Promise (non annulable)&quot;" data-v-950b4f25>​</a></h3><p data-v-950b4f25>Promise n&#39;a <strong data-v-950b4f25>aucune fonction d&#39;annulation standard</strong>.</p><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>resolve</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Terminé&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>});</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>promise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(result));</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Il n&#39;y a pas de moyen standard d&#39;annuler ce traitement</span></span></code></pre></div><p data-v-950b4f25>Une fois que l&#39;exécution commence, elle ne peut pas être arrêtée avant la fin, ce qui peut entraîner des fuites de mémoire et une dégradation des performances.</p><div class="warning custom-block github-alert" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>WARNING</p><p data-v-950b4f25><strong data-v-950b4f25>À propos d&#39;AbortController</strong> Les API Web telles que <code data-v-950b4f25>fetch()</code> peuvent être annulées en utilisant <code data-v-950b4f25>AbortController</code>, mais il ne s&#39;agit pas d&#39;une fonctionnalité de Promise elle-même, mais d&#39;un mécanisme fourni par les API individuelles. Il n&#39;est pas disponible pour tous les traitements asynchrones.</p></div><h3 id="rxjs-annulable" tabindex="-1" data-v-950b4f25>RxJS (Annulable) <a class="header-anchor" href="#rxjs-annulable" aria-label="Permalink to &quot;RxJS (Annulable)&quot;" data-v-950b4f25>​</a></h3><p data-v-950b4f25>RxJS <strong data-v-950b4f25>peut être annulé à tout moment avec <code data-v-950b4f25>unsubscribe()</code></strong>.</p><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { timer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> subscription</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> timer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Terminé&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>)</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Annuler après 1 seconde</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  subscription.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>unsubscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Annuler</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Annulé&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Sortie : Annulé (&quot;Terminé&quot; n&#39;est pas affiché)</span></span></code></pre></div><p data-v-950b4f25>Le désabonnement interrompt immédiatement le traitement en cours et évite les fuites de mémoire.</p><div class="tip custom-block github-alert" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>TIP</p><p data-v-950b4f25><strong data-v-950b4f25>Cas pratiques d&#39;annulation</strong></p><ul data-v-950b4f25><li data-v-950b4f25>Annuler les requêtes HTTP lorsque l&#39;utilisateur quitte l&#39;écran</li><li data-v-950b4f25>Rejeter les anciens résultats de la recherche et ne traiter que la dernière requête (<code data-v-950b4f25>switchMap</code>)</li><li data-v-950b4f25>Annuler automatiquement tous les Observables lorsque le composant est détruit (modèle <code data-v-950b4f25>takeUntil</code>)</li></ul></div><h2 id="lequel-choisir" tabindex="-1" data-v-950b4f25>Lequel choisir ? <a class="header-anchor" href="#lequel-choisir" aria-label="Permalink to &quot;Lequel choisir ?&quot;" data-v-950b4f25>​</a></h2><p data-v-950b4f25>Le choix entre Promise et RxJS dépend de la nature du traitement et des exigences du projet. Utilisez les critères suivants comme référence pour sélectionner l&#39;outil approprié.</p><h3 id="quand-choisir-promise" tabindex="-1" data-v-950b4f25>Quand choisir Promise <a class="header-anchor" href="#quand-choisir-promise" aria-label="Permalink to &quot;Quand choisir Promise&quot;" data-v-950b4f25>​</a></h3><p data-v-950b4f25>Promise convient si les conditions suivantes sont réunies.</p><table tabindex="0" data-v-950b4f25><thead data-v-950b4f25><tr data-v-950b4f25><th data-v-950b4f25>Condition</th><th data-v-950b4f25>Raison</th></tr></thead><tbody data-v-950b4f25><tr data-v-950b4f25><td data-v-950b4f25>Traitement asynchrone simple</td><td data-v-950b4f25>Une requête API, une lecture de fichier, etc.</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Flux de travail simple</td><td data-v-950b4f25><code data-v-950b4f25>Promise.all</code>, <code data-v-950b4f25>Promise.race</code> sont suffisants</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Projets à petite échelle</td><td data-v-950b4f25>Vouloir minimiser les dépendances</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Utiliser uniquement l&#39;API standard</td><td data-v-950b4f25>Vouloir éviter les bibliothèques externes</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Code convivial pour les débutants</td><td data-v-950b4f25>Vouloir réduire les coûts d&#39;apprentissage</td></tr></tbody></table><h4 id="requete-api-unique" tabindex="-1" data-v-950b4f25>Requête API unique : <a class="header-anchor" href="#requete-api-unique" aria-label="Permalink to &quot;Requête API unique :&quot;" data-v-950b4f25>​</a></h4><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>  email</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>  username</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>}</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> getUserData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>userId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>&gt; {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>\`https://jsonplaceholder.typicode.com/users/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>userId</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>response.ok) {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Échec de la récupération des données utilisateur&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  }</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>();</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>}</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Exemple d&#39;utilisation</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>getUserData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Nom d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>\\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>utilisateur:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, user.name);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Email:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, user.email);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>});</span></span></code></pre></div><p data-v-950b4f25>Ce code est un modèle typique pour récupérer les informations d&#39;un seul utilisateur. L&#39;utilisation de <code data-v-950b4f25>async/await</code> le rend aussi lisible qu&#39;un code synchrone. La gestion des erreurs peut également être unifiée avec <code data-v-950b4f25>try/catch</code>, ce qui la rend simple et intuitive.</p><h4 id="execution-parallele-de-plusieurs-processus-asynchrones" tabindex="-1" data-v-950b4f25>Exécution parallèle de plusieurs processus asynchrones : <a class="header-anchor" href="#execution-parallele-de-plusieurs-processus-asynchrones" aria-label="Permalink to &quot;Exécution parallèle de plusieurs processus asynchrones :&quot;" data-v-950b4f25>​</a></h4><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> Post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>  userId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>  title</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>  body</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>}</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> loadAllData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>&lt;[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>[], </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>Post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>[]]&gt; {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>all</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>([</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>    fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;https://jsonplaceholder.typicode.com/users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> r.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>()),</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>    fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;https://jsonplaceholder.typicode.com/posts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> r.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>())</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  ]);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> [users, posts];</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>}</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Exemple d&#39;utilisation</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>loadAllData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(([</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Nombre d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>\\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>utilisateurs:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, users.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Nombre de posts:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, posts.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>});</span></span></code></pre></div><p data-v-950b4f25><code data-v-950b4f25>Promise.all()</code> vous permet d&#39;exécuter plusieurs requêtes API en parallèle et d&#39;attendre qu&#39;elles soient toutes terminées. C&#39;est très pratique pour le chargement initial des données. Notez que si l&#39;une d&#39;entre elles échoue, c&#39;est tout le processus qui s&#39;interrompt, mais sa simplicité le rend facile à comprendre et à maintenir.</p><h3 id="quand-choisir-rxjs" tabindex="-1" data-v-950b4f25>Quand choisir RxJS <a class="header-anchor" href="#quand-choisir-rxjs" aria-label="Permalink to &quot;Quand choisir RxJS&quot;" data-v-950b4f25>​</a></h3><p data-v-950b4f25>RxJS convient si les conditions suivantes sont réunies.</p><table tabindex="0" data-v-950b4f25><thead data-v-950b4f25><tr data-v-950b4f25><th data-v-950b4f25>Condition</th><th data-v-950b4f25>Raison</th></tr></thead><tbody data-v-950b4f25><tr data-v-950b4f25><td data-v-950b4f25>Traitement d&#39;événements en continu</td><td data-v-950b4f25>Mouvement de la souris, saisie au clavier, WebSocket, etc.</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Traitement de flux complexes</td><td data-v-950b4f25>Combinaison et transformation de sources d&#39;événements multiples</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Annulation requise</td><td data-v-950b4f25>Vouloir contrôler finement la gestion des ressources</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Retry/Timeout</td><td data-v-950b4f25>Souhait d&#39;une gestion flexible des erreurs</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Projets Angular</td><td data-v-950b4f25>RxJS est intégré dans le framework</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Données en temps réel</td><td data-v-950b4f25>Les données sont mises à jour en continu</td></tr></tbody></table><h4 id="exemple-concret" tabindex="-1" data-v-950b4f25>Exemple concret <a class="header-anchor" href="#exemple-concret" aria-label="Permalink to &quot;Exemple concret&quot;" data-v-950b4f25>​</a></h4><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { fromEvent } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { debounceTime, map, distinctUntilChanged, switchMap } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> label</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;label&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>label.innerText </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;recherche: &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> searchInput</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>searchInput.type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>label.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>appendChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(searchInput);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>document.body.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>appendChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(label);</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Recherche en temps réel (autocomplétion)</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>searchInput) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Entrée de recherche introuvable&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>fromEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(searchInput, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> (event.target </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> HTMLInputElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).value),</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  debounceTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>),              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Attendre 300ms avant de traiter</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  distinctUntilChanged</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(),         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Traitement uniquement en cas de changement de valeur</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  switchMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>              // Exécuter uniquement la dernière requête</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>    fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>\`https://api.github.com/search/users?q=\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>query</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> r.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>())</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  )</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>results</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Résultats de la recherche:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, results.items); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// L&#39;API GitHub stocke les résultats dans la propriété items</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>});</span></span></code></pre></div><p data-v-950b4f25>Cet exemple est un cas typique où RxJS montre sa vraie valeur. Il surveille les entrées de l&#39;utilisateur, fournit un temps d&#39;attente de 300ms pour réduire les requêtes inutiles, ne traite que lorsque la valeur change, et en ne rendant valide que la dernière requête (<code data-v-950b4f25>switchMap</code>), il rejette automatiquement les résultats des anciennes requêtes.</p><div class="important custom-block github-alert" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>IMPORTANT</p><p data-v-950b4f25><strong data-v-950b4f25>Pourquoi c&#39;est difficile avec Promise seul</strong></p><ul data-v-950b4f25><li data-v-950b4f25>Doit implémenter manuellement le debounce (contrôle continu des entrées)</li><li data-v-950b4f25>Il faut gérer soi-même l&#39;annulation des anciennes requêtes</li><li data-v-950b4f25>Oublier de nettoyer les écouteurs d&#39;événements provoque des fuites de mémoire</li><li data-v-950b4f25>Doit suivre plusieurs états simultanément (timers, drapeaux, gestion des requêtes)</li></ul><p data-v-950b4f25>Avec RxJS, tous ces éléments peuvent être réalisés de manière déclarative en quelques lignes seulement.</p></div><h2 id="interoperabilite-entre-promise-et-rxjs" tabindex="-1" data-v-950b4f25>Interopérabilité entre Promise et RxJS <a class="header-anchor" href="#interoperabilite-entre-promise-et-rxjs" aria-label="Permalink to &quot;Interopérabilité entre Promise et RxJS&quot;" data-v-950b4f25>​</a></h2><p data-v-950b4f25>Promise et RxJS ne s&#39;excluent pas mutuellement et peuvent être convertis l&#39;un à l&#39;autre et combinés. Ceci est utile pour intégrer du code existant basé sur Promise dans des pipelines RxJS, ou inversement lorsque vous voulez utiliser Observable dans du code existant basé sur Promise.</p><h2 id="convertir-une-promise-en-observable" tabindex="-1" data-v-950b4f25>Convertir une Promise en Observable <a class="header-anchor" href="#convertir-une-promise-en-observable" aria-label="Permalink to &quot;Convertir une Promise en Observable&quot;" data-v-950b4f25>​</a></h2><p data-v-950b4f25>RxJS fournit plusieurs façons de convertir une Promise existante en Observable.</p><h3 id="conversion-par-from" tabindex="-1" data-v-950b4f25>Conversion par <code data-v-950b4f25>from</code> <a class="header-anchor" href="#conversion-par-from" aria-label="Permalink to &quot;Conversion par \`from\`&quot;" data-v-950b4f25>​</a></h3><p data-v-950b4f25>La méthode la plus courante est d&#39;utiliser <code data-v-950b4f25>from</code>.</p><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { from } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Créer une Promise</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;https://jsonplaceholder.typicode.com/posts/1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>)</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>());</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Convertir en Observable avec from()</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(promise);</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>({</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Données:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, data),</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Erreur:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, error),</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Terminé&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>)</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>});</span></span></code></pre></div><p data-v-950b4f25>Le résultat de la Promise s&#39;écoule en tant qu&#39;Observable, et l&#39;achèvement est également appelé automatiquement.</p><h3 id="conversion-par-defer-evaluation-paresseuse" tabindex="-1" data-v-950b4f25>Conversion par <code data-v-950b4f25>defer</code> (évaluation paresseuse) <a class="header-anchor" href="#conversion-par-defer-evaluation-paresseuse" aria-label="Permalink to &quot;Conversion par \`defer\` (évaluation paresseuse)&quot;" data-v-950b4f25>​</a></h3><p data-v-950b4f25>Le <code data-v-950b4f25>defer</code> retarde la création d&#39;une Promise jusqu&#39;à ce qu&#39;elle soit souscrite.</p><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { defer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// La Promise n&#39;est pas créée avant subscribe</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=&gt;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;https://jsonplaceholder.typicode.com/posts/1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> r.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>())</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Création d&#39;une nouvelle Promise à chaque subscribe</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;1er:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, data));</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;2e:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, data));</span></span></code></pre></div><p data-v-950b4f25>Cette méthode est utile si vous souhaitez créer une nouvelle Promise à chaque fois que vous vous abonnez.</p><h2 id="convertir-un-observable-en-promise" tabindex="-1" data-v-950b4f25>Convertir un Observable en Promise <a class="header-anchor" href="#convertir-un-observable-en-promise" aria-label="Permalink to &quot;Convertir un Observable en Promise&quot;" data-v-950b4f25>​</a></h2><p data-v-950b4f25>Il est possible de prendre une seule valeur d&#39;un Observable et de la transformer en Promise.</p><h3 id="firstvaluefrom-et-lastvaluefrom" tabindex="-1" data-v-950b4f25><code data-v-950b4f25>firstValueFrom</code> et <code data-v-950b4f25>lastValueFrom</code> <a class="header-anchor" href="#firstvaluefrom-et-lastvaluefrom" aria-label="Permalink to &quot;\`firstValueFrom\` et \`lastValueFrom\`&quot;" data-v-950b4f25>​</a></h3><p data-v-950b4f25>Les deux fonctions suivantes sont recommandées dans RxJS 7 et plus.</p><table tabindex="0" data-v-950b4f25><thead data-v-950b4f25><tr data-v-950b4f25><th data-v-950b4f25>Fonction</th><th data-v-950b4f25>Comportement</th></tr></thead><tbody data-v-950b4f25><tr data-v-950b4f25><td data-v-950b4f25><code data-v-950b4f25>firstValueFrom</code></td><td data-v-950b4f25>Retourne la première valeur sous forme de Promise</td></tr><tr data-v-950b4f25><td data-v-950b4f25><code data-v-950b4f25>lastValueFrom</code></td><td data-v-950b4f25>Retourne la dernière valeur à l&#39;achèvement sous forme de Promise</td></tr></tbody></table><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { of, firstValueFrom, lastValueFrom } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { delay } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>));</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Obtenir la première valeur sous forme de Promise</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> firstValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> firstValueFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(observable$);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(firstValue); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// 1</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Obtenir la dernière valeur sous forme de Promise</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> lastValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> lastValueFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(observable$);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(lastValue); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// 3</span></span></code></pre></div><p data-v-950b4f25>Si l&#39;Observable se termine avant que la valeur ne circule, la valeur par défaut est une erreur. Cela peut être évité en spécifiant une valeur par défaut.</p><div class="warning custom-block github-alert" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>WARNING</p><p data-v-950b4f25><code data-v-950b4f25>toPromise()</code> est obsolète. Utilisez <code data-v-950b4f25>firstValueFrom()</code> ou <code data-v-950b4f25>lastValueFrom()</code> à la place.</p></div><div class="tip custom-block github-alert" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>TIP</p><p data-v-950b4f25><strong data-v-950b4f25>Conseils de sélection</strong></p><ul data-v-950b4f25><li data-v-950b4f25><strong data-v-950b4f25><code data-v-950b4f25>firstValueFrom()</code></strong> : Lorsque seule la première valeur est nécessaire (par exemple, le résultat de l&#39;authentification)</li><li data-v-950b4f25><strong data-v-950b4f25><code data-v-950b4f25>lastValueFrom()</code></strong> : Lorsque le résultat final après traitement de toutes les données est nécessaire (par exemple, le résultat de l&#39;agrégation)</li></ul></div><h2 id="exemple-pratique-combiner-les-deux" tabindex="-1" data-v-950b4f25>Exemple pratique : Combiner les deux <a class="header-anchor" href="#exemple-pratique-combiner-les-deux" aria-label="Permalink to &quot;Exemple pratique : Combiner les deux&quot;" data-v-950b4f25>​</a></h2><p data-v-950b4f25>Dans le développement d&#39;applications réelles, Promise et RxJS sont souvent combinés.</p><div class="warning custom-block github-alert" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>Précautions pratiques</p><p data-v-950b4f25>Mélanger Promise et Observable peut facilement <strong data-v-950b4f25>tomber dans des anti-modèles si les limites de la conception ne sont pas claires</strong>.</p><p data-v-950b4f25><strong data-v-950b4f25>Problèmes courants :</strong></p><ul data-v-950b4f25><li data-v-950b4f25>Devient impossible à annuler</li><li data-v-950b4f25>Séparation de la gestion des erreurs</li><li data-v-950b4f25><code data-v-950b4f25>await</code> dans <code data-v-950b4f25>subscribe</code> (particulièrement dangereux)</li><li data-v-950b4f25>Acquisition parallèle des mêmes données avec Promise et Observable</li></ul><p data-v-950b4f25>Voir <strong data-v-950b4f25><a href="/RxJS-with-TypeScript/fr/guide/anti-patterns/promise-observable-mixing" data-v-950b4f25>Chapitre 10 : Anti-modèles de mélange Promise et Observable</a></strong> pour plus de détails.</p></div><h3 id="soumission-de-formulaire-et-appels-a-l-api" tabindex="-1" data-v-950b4f25>Soumission de formulaire et appels à l&#39;API <a class="header-anchor" href="#soumission-de-formulaire-et-appels-a-l-api" aria-label="Permalink to &quot;Soumission de formulaire et appels à l&#39;API&quot;" data-v-950b4f25>​</a></h3><p data-v-950b4f25>Exemple de capture d&#39;un événement de soumission de formulaire d&#39;un utilisateur dans RxJS et d&#39;envoi au serveur en utilisant l&#39;API Fetch (Promise).</p><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { fromEvent, from } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { exhaustMap, catchError } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { of } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> FormData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>  username</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>  email</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>}</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Soumission de formulaire basée sur Promise</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> submitForm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> FormData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>&lt;{ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>success</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> }&gt; {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;https://api.example.com/submit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>    method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;POST&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>,</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>    headers: { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;application/json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> },</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>    body: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(data)</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  });</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>response.ok) {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Échec de la soumission&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  }</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>();</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>}</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Gestion du flux d&#39;événements avec RxJS</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> submitButton</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>submitButton.id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;submit-button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>submitButton.innerText </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;Soumettre&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>submitButton.style.padding </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;10px 20px&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>submitButton.style.margin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;10px&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>document.body.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>appendChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(submitButton);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>submitButton) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Bouton de soumission introuvable&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>fromEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(submitButton, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;click&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  exhaustMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> formData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> FormData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>      username: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;testuser&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>,</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>      email: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;test@example.com&#39;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>    };</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>    // Convertir la fonction Promise en Observable</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>submitForm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(formData));</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  }),</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  catchError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Erreur de soumission:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, error);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>({ success: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> });</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  })</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> (result.success) {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Soumission réussie&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Échec de la soumission&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  }</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>});</span></span></code></pre></div><p data-v-950b4f25>Chaque fois que l&#39;on clique sur le bouton de soumission du formulaire, un nouveau processus de soumission est lancé, mais <strong data-v-950b4f25>ignore les nouvelles soumissions pendant la soumission</strong>.</p><p data-v-950b4f25>Dans cet exemple, l&#39;utilisation de <code data-v-950b4f25>exhaustMap</code> permet d&#39;éviter les requêtes en double lors de la transmission.</p><h3 id="autocompletion-de-recherche" tabindex="-1" data-v-950b4f25>Autocomplétion de recherche <a class="header-anchor" href="#autocompletion-de-recherche" aria-label="Permalink to &quot;Autocomplétion de recherche&quot;" data-v-950b4f25>​</a></h3><p data-v-950b4f25>Exemple de surveillance des changements de valeur d&#39;un formulaire de saisie et d&#39;exécution de recherches API.</p><div class="language-ts vp-adaptive-theme" data-v-950b4f25><button title="Copy Code" class="copy" data-v-950b4f25></button><span class="lang" data-v-950b4f25>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-950b4f25><code data-v-950b4f25><span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { fromEvent, from } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { debounceTime, map, distinctUntilChanged, switchMap, catchError } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> { of } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> SearchResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>  items</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>&lt;{</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>    login</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>    id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>    avatar_url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  }&gt;;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>  total_count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>}</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Fonction API basée sur Promise</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> searchAPI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>SearchResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>&gt; {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>\`https://api.github.com/search/users?q=\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>query</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>response.ok) {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Échec de la recherche&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  }</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>();</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>}</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Gestion des flux d&#39;événements avec RxJS</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> label</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;label&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>label.innerText </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;recherche: &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25> searchInput</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>searchInput.type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25> &#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>;</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>label.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>appendChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(searchInput);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>document.body.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>appendChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(label);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>searchInput) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Entrée de recherche introuvable&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>);</span></span>
<span class="line" data-v-950b4f25></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>fromEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(searchInput, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> (event.target </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> HTMLInputElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).value),</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  debounceTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>),</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  distinctUntilChanged</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(),</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  switchMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>    // Convertir la fonction Promise en Observable</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>searchAPI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(query));</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  }),</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>  catchError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(error);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25>    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>({ items: [], total_count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-950b4f25>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> }); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-950b4f25>// Retourner un résultat vide en cas d&#39;erreur</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  })</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-950b4f25>result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-950b4f25> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25> {</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Résultats de la recherche:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, result.items);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-950b4f25>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-950b4f25>&#39;Total:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>, result.total_count);</span></span>
<span class="line" data-v-950b4f25><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-950b4f25>});</span></span></code></pre></div><p data-v-950b4f25>Dans cet exemple, les contrôles suivants sont réalisés :</p><ul data-v-950b4f25><li data-v-950b4f25>Attendre 300ms pour la fin de la saisie avec <code data-v-950b4f25>debounceTime(300)</code></li><li data-v-950b4f25><code data-v-950b4f25>distinctUntilChanged()</code> pour ignorer si la valeur est la même que la précédente</li><li data-v-950b4f25><code data-v-950b4f25>switchMap</code> pour récupérer uniquement les derniers résultats de recherche (les anciennes requêtes sont automatiquement annulées)</li></ul><div class="warning custom-block github-alert" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>Attention aux anti-modèles</p><p data-v-950b4f25>Le schéma consistant à souscrire un Observable dans une Promise peut provoquer des fuites de mémoire et des comportements inattendus.</p></div><div class="tip custom-block github-alert" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>TIP</p><p data-v-950b4f25><strong data-v-950b4f25>Conception par séparation des responsabilités</strong></p><ul data-v-950b4f25><li data-v-950b4f25><strong data-v-950b4f25>RxJS</strong> : En charge du contrôle des événements (debounce, switchMap, etc.)</li><li data-v-950b4f25><strong data-v-950b4f25>Promise</strong> : En charge des requêtes HTTP (async/await)</li><li data-v-950b4f25><strong data-v-950b4f25><code data-v-950b4f25>from()</code></strong> : Pont entre les deux</li></ul><p data-v-950b4f25>L&#39;utilisation appropriée de chaque technologie améliore la lisibilité et la maintenabilité du code.</p></div><h2 id="avantages-et-inconvenients" tabindex="-1" data-v-950b4f25>Avantages et inconvénients <a class="header-anchor" href="#avantages-et-inconvenients" aria-label="Permalink to &quot;Avantages et inconvénients&quot;" data-v-950b4f25>​</a></h2><p data-v-950b4f25>Chaque technologie a ses avantages et ses inconvénients.</p><h3 id="promise-1" tabindex="-1" data-v-950b4f25>Promise <a class="header-anchor" href="#promise-1" aria-label="Permalink to &quot;Promise&quot;" data-v-950b4f25>​</a></h3><div class="comparison-cards" data-v-950b4f25><div class="tip custom-block" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>Avantages</p><ul data-v-950b4f25><li data-v-950b4f25>Aucune dépendance nécessaire car il s&#39;agit d&#39;un standard JavaScript</li><li data-v-950b4f25>Code intuitif et lisible avec <code data-v-950b4f25>async/await</code></li><li data-v-950b4f25>Faible coût d&#39;apprentissage</li><li data-v-950b4f25>Traitement simple de tâches uniques</li></ul></div><div class="danger custom-block" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>Inconvénients</p><ul data-v-950b4f25><li data-v-950b4f25>Ne peut pas gérer des valeurs multiples</li><li data-v-950b4f25>Pas de fonction d&#39;annulation</li><li data-v-950b4f25>Ne convient pas au traitement de flux continus</li><li data-v-950b4f25>Le traitement d&#39;événements complexes est difficile</li></ul></div></div><h3 id="rxjs-1" tabindex="-1" data-v-950b4f25>RxJS <a class="header-anchor" href="#rxjs-1" aria-label="Permalink to &quot;RxJS&quot;" data-v-950b4f25>​</a></h3><div class="comparison-cards" data-v-950b4f25><div class="tip custom-block" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>Avantages</p><ul data-v-950b4f25><li data-v-950b4f25>Possibilité de gérer plusieurs valeurs dans le temps</li><li data-v-950b4f25>Contrôle complexe possible avec une grande variété d&#39;opérateurs</li><li data-v-950b4f25>L&#39;annulation (<code data-v-950b4f25>unsubscribe</code>) est facile</li><li data-v-950b4f25>Mise en œuvre souple de la gestion des erreurs et des tentatives</li><li data-v-950b4f25>Déclaratif et testable</li></ul></div><div class="danger custom-block" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>Inconvénients</p><ul data-v-950b4f25><li data-v-950b4f25>Coût d&#39;apprentissage élevé</li><li data-v-950b4f25>Nécessite des bibliothèques</li><li data-v-950b4f25>Sur-spécification pour les processus simples</li><li data-v-950b4f25>Le débogage peut être difficile</li></ul></div></div><h2 id="domaines-ou-rxjs-est-particulierement-efficace" tabindex="-1" data-v-950b4f25>Domaines où RxJS est particulièrement efficace <a class="header-anchor" href="#domaines-ou-rxjs-est-particulierement-efficace" aria-label="Permalink to &quot;Domaines où RxJS est particulièrement efficace&quot;" data-v-950b4f25>​</a></h2><p data-v-950b4f25>RxJS est particulièrement puissant dans les domaines suivants. Il peut répondre de manière élégante à des besoins complexes qui sont difficiles à satisfaire avec Promise seul.</p><table tabindex="0" data-v-950b4f25><thead data-v-950b4f25><tr data-v-950b4f25><th data-v-950b4f25>Domaine</th><th data-v-950b4f25>Exemples</th><th data-v-950b4f25>Comparaison avec Promise</th></tr></thead><tbody data-v-950b4f25><tr data-v-950b4f25><td data-v-950b4f25><strong data-v-950b4f25>Communication en temps réel</strong></td><td data-v-950b4f25>WebSocket, SSE, chat, mise à jour des cours boursiers</td><td data-v-950b4f25>Promise est uniquement destiné à la communication ponctuelle. Non adapté au traitement continu des messages</td></tr><tr data-v-950b4f25><td data-v-950b4f25><strong data-v-950b4f25>Contrôle des entrées utilisateur</strong></td><td data-v-950b4f25>Autocomplétion de recherche, validation de formulaires</td><td data-v-950b4f25>debounce, distinctUntilChanged, etc. sont standard</td></tr><tr data-v-950b4f25><td data-v-950b4f25><strong data-v-950b4f25>Combinaison de sources multiples</strong></td><td data-v-950b4f25>Combinaison de conditions de recherche × ordre de tri × filtres</td><td data-v-950b4f25>Peut être décrit de manière concise avec combineLatest, withLatestFrom</td></tr><tr data-v-950b4f25><td data-v-950b4f25><strong data-v-950b4f25>Support hors ligne</strong></td><td data-v-950b4f25>PWA, surveillance de l&#39;état du réseau, resynchronisation automatique</td><td data-v-950b4f25>Contrôle flexible des tentatives avec retry, retryWhen</td></tr><tr data-v-950b4f25><td data-v-950b4f25><strong data-v-950b4f25>API de streaming</strong></td><td data-v-950b4f25>OpenAI, sortie séquentielle des tokens de réponse IA</td><td data-v-950b4f25>Peut traiter des données continues en temps réel</td></tr><tr data-v-950b4f25><td data-v-950b4f25><strong data-v-950b4f25>Contrôle de l&#39;annulation</strong></td><td data-v-950b4f25>Interruption des processus longs, rejet des anciennes requêtes</td><td data-v-950b4f25>Peut annuler immédiatement avec unsubscribe()</td></tr></tbody></table><div class="note custom-block github-alert" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>NOTE</p><p data-v-950b4f25>Pour plus de détails sur l&#39;utilisation de RxJS, voir également <a href="./what-is-rxjs#cas-dutilisation" data-v-950b4f25>Qu&#39;est-ce que RxJS - Cas d&#39;utilisation</a>.</p></div><h2 id="resume" tabindex="-1" data-v-950b4f25>Résumé <a class="header-anchor" href="#resume" aria-label="Permalink to &quot;Résumé&quot;" data-v-950b4f25>​</a></h2><table tabindex="0" data-v-950b4f25><thead data-v-950b4f25><tr data-v-950b4f25><th data-v-950b4f25>Objectif</th><th data-v-950b4f25>Recommandé</th><th data-v-950b4f25>Raison</th></tr></thead><tbody data-v-950b4f25><tr data-v-950b4f25><td data-v-950b4f25>Requête HTTP unique</td><td data-v-950b4f25>Promise (<code data-v-950b4f25>async/await</code>)</td><td data-v-950b4f25>Simple, lisible, API standard</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Traitement des événements d&#39;entrée utilisateur</td><td data-v-950b4f25>RxJS</td><td data-v-950b4f25>Nécessite un contrôle tel que debounce, distinct</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Données en temps réel (WebSocket)</td><td data-v-950b4f25>RxJS</td><td data-v-950b4f25>Peut naturellement gérer des messages continus</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Exécution parallèle de processus asynchrones multiples</td><td data-v-950b4f25>Promise (<code data-v-950b4f25>Promise.all</code>)</td><td data-v-950b4f25>Promise est suffisant pour une simple exécution parallèle</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Flux d&#39;événements continus</td><td data-v-950b4f25>RxJS</td><td data-v-950b4f25>Peut gérer des valeurs multiples dans le temps</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Traitement annulable</td><td data-v-950b4f25>RxJS</td><td data-v-950b4f25>Annulation fiable avec unsubscribe()</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Applications simples</td><td data-v-950b4f25>Promise</td><td data-v-950b4f25>Faible coût d&#39;apprentissage, peu de dépendances</td></tr><tr data-v-950b4f25><td data-v-950b4f25>Applications Angular</td><td data-v-950b4f25>RxJS</td><td data-v-950b4f25>Intégré de manière standard dans le framework</td></tr></tbody></table><h3 id="politique-de-base" tabindex="-1" data-v-950b4f25>Politique de base <a class="header-anchor" href="#politique-de-base" aria-label="Permalink to &quot;Politique de base&quot;" data-v-950b4f25>​</a></h3><ul data-v-950b4f25><li data-v-950b4f25><strong data-v-950b4f25>Utilisez Promise si cela peut être simple</strong></li><li data-v-950b4f25><strong data-v-950b4f25>Utilisez RxJS si un traitement de flux complexe est nécessaire</strong></li><li data-v-950b4f25><strong data-v-950b4f25>La combinaison des deux est également efficace</strong> (pont avec <code data-v-950b4f25>from()</code>)</li></ul><p data-v-950b4f25>RxJS est puissant, mais vous n&#39;avez pas besoin d&#39;utiliser RxJS pour tous les traitements asynchrones. Il est important d&#39;utiliser le bon outil dans la bonne situation. Promise et RxJS sont tous deux des outils puissants pour gérer les traitements asynchrones, mais chacun a des caractéristiques différentes.</p><ul data-v-950b4f25><li data-v-950b4f25><strong data-v-950b4f25>Promise</strong> est le mieux adapté aux traitements asynchrones simples et ponctuels. Choisissez Promise pour un traitement asynchrone de base en raison de son faible coût d&#39;apprentissage et de sa bonne compatibilité avec async/await.</li><li data-v-950b4f25><strong data-v-950b4f25>RxJS</strong> est puissant lorsqu&#39;il s&#39;agit de gérer des valeurs multiples, de traiter des événements ou de contrôler des flux de données complexes. RxJS convient également lorsque des contrôles avancés tels que l&#39;annulation et la réessai sont nécessaires.</li></ul><p data-v-950b4f25>Dans le cadre d&#39;un développement réel, il est important d&#39;utiliser les deux de manière appropriée. Si nécessaire, vous pouvez être flexible en convertissant Promise en Observable ou Observable en Promise.</p><div class="tip custom-block github-alert" data-v-950b4f25><p class="custom-block-title" data-v-950b4f25>Prochaines étapes</p><p data-v-950b4f25></p><ul data-v-950b4f25><li data-v-950b4f25>En savoir plus sur les Observables dans <a href="/RxJS-with-TypeScript/fr/guide/observables/what-is-observable" data-v-950b4f25>Qu&#39;est-ce qu&#39;un Observable</a></li><li data-v-950b4f25>Apprendre à créer des Observables dans <a href="/RxJS-with-TypeScript/fr/guide/creation-functions/index" data-v-950b4f25>Creation Functions</a></li><li data-v-950b4f25>Apprendre à convertir et à contrôler les Observables avec les <a href="/RxJS-with-TypeScript/fr/guide/operators/index" data-v-950b4f25>Opérateurs</a></li></ul></div><hr class="footnotes-sep" data-v-950b4f25><section class="footnotes" data-v-950b4f25><ol class="footnotes-list" data-v-950b4f25><li id="fn1" class="footnote-item" data-v-950b4f25><p data-v-950b4f25>Bien que les traitements basés sur Promise (comme fetch) peuvent être annulés à l&#39;aide d&#39;AbortController, la spécification Promise elle-même ne dispose pas d&#39;une fonction d&#39;annulation. <a href="#fnref1" class="footnote-backref" data-v-950b4f25>↩︎</a></p></li></ol></section>`,111)])])}const f=s(e,[["render",l],["__scopeId","data-v-950b4f25"]]);export{v as __pageData,f as default};
