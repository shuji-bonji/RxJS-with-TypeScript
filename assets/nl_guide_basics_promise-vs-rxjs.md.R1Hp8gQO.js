import{_ as s,c as i,o as e,a2 as t}from"./chunks/framework.D3KFGq5-.js";const E=JSON.parse('{"title":"Verschil tussen Promise en RxJS","description":"Begrijp het verschil tussen Promise en RxJS en leer de juiste keuze te maken. Promise is gespecialiseerd in enkele asynchrone verwerkingen en wordt onmiddellijk uitgevoerd, terwijl RxJS lazy-evaluatie streamverwerking biedt die meerdere waarden kan behandelen. We vergelijken annulering, opnieuw proberen en transformatie met TypeScript.","frontmatter":{"description":"Begrijp het verschil tussen Promise en RxJS en leer de juiste keuze te maken. Promise is gespecialiseerd in enkele asynchrone verwerkingen en wordt onmiddellijk uitgevoerd, terwijl RxJS lazy-evaluatie streamverwerking biedt die meerdere waarden kan behandelen. We vergelijken annulering, opnieuw proberen en transformatie met TypeScript."},"headers":[],"relativePath":"nl/guide/basics/promise-vs-rxjs.md","filePath":"nl/guide/basics/promise-vs-rxjs.md","lastUpdated":1765473692000}'),n={name:"nl/guide/basics/promise-vs-rxjs.md"};function d(l,a,h,k,p,r){return e(),i("div",null,[...a[0]||(a[0]=[t(`<h1 id="verschil-tussen-promise-en-rxjs" tabindex="-1" data-v-8e286806>Verschil tussen Promise en RxJS <a class="header-anchor" href="#verschil-tussen-promise-en-rxjs" aria-label="Permalink to &quot;Verschil tussen Promise en RxJS&quot;" data-v-8e286806>​</a></h1><h2 id="overzicht" tabindex="-1" data-v-8e286806>Overzicht <a class="header-anchor" href="#overzicht" aria-label="Permalink to &quot;Overzicht&quot;" data-v-8e286806>​</a></h2><p data-v-8e286806>De belangrijkste tools voor het omgaan met asynchrone verwerking in JavaScript/TypeScript zijn <strong data-v-8e286806>Promise</strong> en <strong data-v-8e286806>RxJS (Observable)</strong>. Beide worden soms voor vergelijkbare doeleinden gebruikt, maar de ontwerpfilosofie en use cases zijn aanzienlijk verschillend.</p><p data-v-8e286806>Deze pagina helpt je het verschil tussen Promise en RxJS te begrijpen en te bepalen welke je moet gebruiken.</p><h2 id="fundamentele-verschillen" tabindex="-1" data-v-8e286806>Fundamentele verschillen <a class="header-anchor" href="#fundamentele-verschillen" aria-label="Permalink to &quot;Fundamentele verschillen&quot;" data-v-8e286806>​</a></h2><table tabindex="0" data-v-8e286806><thead data-v-8e286806><tr data-v-8e286806><th data-v-8e286806>Item</th><th data-v-8e286806>Promise</th><th data-v-8e286806>RxJS (Observable)</th></tr></thead><tbody data-v-8e286806><tr data-v-8e286806><td data-v-8e286806><strong data-v-8e286806>Standaardisatie</strong></td><td data-v-8e286806>JavaScript-standaard (ES6/ES2015)</td><td data-v-8e286806>Third-party bibliotheek</td></tr><tr data-v-8e286806><td data-v-8e286806><strong data-v-8e286806>Uitgegeven waarden</strong></td><td data-v-8e286806>Enkele waarde</td><td data-v-8e286806>0 of meer meerdere waarden</td></tr><tr data-v-8e286806><td data-v-8e286806><strong data-v-8e286806>Evaluatie</strong></td><td data-v-8e286806>Eager (onmiddellijke uitvoering bij aanmaak)</td><td data-v-8e286806>Lazy (uitvoering bij subscribe)</td></tr><tr data-v-8e286806><td data-v-8e286806><strong data-v-8e286806>Annuleren</strong></td><td data-v-8e286806>Niet mogelijk<sup class="footnote-ref" data-v-8e286806><a href="#fn1" id="fnref1" data-v-8e286806>[1]</a></sup></td><td data-v-8e286806>Mogelijk (<code data-v-8e286806>unsubscribe()</code>)</td></tr><tr data-v-8e286806><td data-v-8e286806><strong data-v-8e286806>Hergebruik</strong></td><td data-v-8e286806>Niet mogelijk (resultaat slechts 1x)</td><td data-v-8e286806>Mogelijk (meerdere keren subscriben)</td></tr><tr data-v-8e286806><td data-v-8e286806><strong data-v-8e286806>Leercurve</strong></td><td data-v-8e286806>Laag</td><td data-v-8e286806>Hoog (begrip van operators vereist)</td></tr><tr data-v-8e286806><td data-v-8e286806><strong data-v-8e286806>Use cases</strong></td><td data-v-8e286806>Enkele asynchrone verwerking</td><td data-v-8e286806>Complexe streamverwerking</td></tr></tbody></table><h2 id="code-vergelijking-enkele-asynchrone-verwerking" tabindex="-1" data-v-8e286806>Code vergelijking: enkele asynchrone verwerking <a class="header-anchor" href="#code-vergelijking-enkele-asynchrone-verwerking" aria-label="Permalink to &quot;Code vergelijking: enkele asynchrone verwerking&quot;" data-v-8e286806>​</a></h2><h3 id="promise" tabindex="-1" data-v-8e286806>Promise <a class="header-anchor" href="#promise" aria-label="Permalink to &quot;Promise&quot;" data-v-8e286806>​</a></h3><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Promise wordt onmiddellijk uitgevoerd bij aanmaak (Eager)</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;https://jsonplaceholder.typicode.com/posts/1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>)</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>())</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(data))</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(error));</span></span></code></pre></div><p data-v-8e286806>Promise <strong data-v-8e286806>begint onmiddellijk met uitvoeren zodra het is gedefinieerd</strong> (Eager evaluatie).</p><h3 id="rxjs" tabindex="-1" data-v-8e286806>RxJS <a class="header-anchor" href="#rxjs" aria-label="Permalink to &quot;RxJS&quot;" data-v-8e286806>​</a></h3><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { from } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { switchMap, catchError } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { of } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Observable wordt pas uitgevoerd bij subscribe (Lazy)</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;https://jsonplaceholder.typicode.com/posts/1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  switchMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>()), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// response.json() retourneert Promise dus we gebruiken switchMap</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  catchError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(error);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  })</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Wordt pas uitgevoerd bij subscribe</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(data));</span></span></code></pre></div><p data-v-8e286806>RxJS <strong data-v-8e286806>wordt niet uitgevoerd totdat <code data-v-8e286806>subscribe()</code> wordt aangeroepen</strong> (Lazy evaluatie). Als je meerdere keren op dezelfde Observable subscribet, worden onafhankelijke uitvoeringen uitgevoerd, en je kunt de verwerking onderbreken met <code data-v-8e286806>unsubscribe()</code>.</p><div class="tip custom-block github-alert" data-v-8e286806><p class="custom-block-title" data-v-8e286806>TIP</p><p data-v-8e286806><strong data-v-8e286806>Praktische keuze</strong></p><ul data-v-8e286806><li data-v-8e286806>Enkele verwerking die onmiddellijk moet worden uitgevoerd → Promise</li><li data-v-8e286806>Verwerking die op het juiste moment moet worden uitgevoerd, of meerdere keren moet worden uitgevoerd → RxJS</li></ul></div><h2 id="code-vergelijking-omgaan-met-meerdere-waarden" tabindex="-1" data-v-8e286806>Code vergelijking: omgaan met meerdere waarden <a class="header-anchor" href="#code-vergelijking-omgaan-met-meerdere-waarden" aria-label="Permalink to &quot;Code vergelijking: omgaan met meerdere waarden&quot;" data-v-8e286806>​</a></h2><p data-v-8e286806>Een van de grootste verschillen tussen Promise en RxJS is het aantal waarden dat kan worden uitgegeven. Promise kan slechts één enkele waarde retourneren, maar RxJS kan meerdere waarden in de tijd uitgeven.</p><h3 id="niet-mogelijk-met-promise" tabindex="-1" data-v-8e286806>Niet mogelijk met Promise <a class="header-anchor" href="#niet-mogelijk-met-promise" aria-label="Permalink to &quot;Niet mogelijk met Promise&quot;" data-v-8e286806>​</a></h3><p data-v-8e286806>Promise kan <strong data-v-8e286806>slechts eenmaal worden opgelost</strong>.</p><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Promise kan slechts één enkele waarde retourneren</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>resolve</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Deze waarde wordt genegeerd</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Deze waarde wordt ook genegeerd</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>});</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>promise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(value));</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Output: 1 (alleen de eerste waarde)</span></span></code></pre></div><p data-v-8e286806>Zodra de waarde is vastgelegd met de eerste <code data-v-8e286806>resolve()</code>, worden alle volgende <code data-v-8e286806>resolve()</code> genegeerd.</p><h3 id="mogelijk-met-rxjs" tabindex="-1" data-v-8e286806>Mogelijk met RxJS <a class="header-anchor" href="#mogelijk-met-rxjs" aria-label="Permalink to &quot;Mogelijk met RxJS&quot;" data-v-8e286806>​</a></h3><p data-v-8e286806>Observable kan <strong data-v-8e286806>meerdere keren waarden uitgeven</strong>.</p><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { Observable } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Observable kan meerdere waarden uitgeven</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>subscriber</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>();</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>});</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(value));</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Output: 1, 2, 3</span></span></code></pre></div><p data-v-8e286806>Telkens wanneer <code data-v-8e286806>next()</code> wordt aangeroepen, komt de waarde bij de subscriber aan. Nadat alle waarden zijn uitgegeven, wordt voltooiing gemeld met <code data-v-8e286806>complete()</code>. Deze eigenschap maakt het natuurlijk om tijdreeksgegevens zoals realtime communicatie, streaminggegevens en opeenvolgende event-afhandeling te behandelen.</p><div class="note custom-block github-alert" data-v-8e286806><p class="custom-block-title" data-v-8e286806>NOTE</p><p data-v-8e286806><strong data-v-8e286806>Praktische toepassingsvoorbeelden</strong></p><ul data-v-8e286806><li data-v-8e286806>WebSocket-berichtreceptie</li><li data-v-8e286806>Opeenvolgende verwerking van toetsenbordinvoer</li><li data-v-8e286806>Event stream van server (SSE)</li><li data-v-8e286806>Continue monitoring van sensorgegevens</li></ul></div><h2 id="vergelijking-van-annulering" tabindex="-1" data-v-8e286806>Vergelijking van annulering <a class="header-anchor" href="#vergelijking-van-annulering" aria-label="Permalink to &quot;Vergelijking van annulering&quot;" data-v-8e286806>​</a></h2><p data-v-8e286806>Of je langdurige verwerking of onnodige asynchrone verwerking kunt annuleren, is belangrijk vanuit het perspectief van resourcebeheer en gebruikerservaring. Er is een groot verschil in annulatiefunctionaliteit tussen Promise en RxJS.</p><h3 id="promise-niet-annuleerbaar" tabindex="-1" data-v-8e286806>Promise (niet annuleerbaar) <a class="header-anchor" href="#promise-niet-annuleerbaar" aria-label="Permalink to &quot;Promise (niet annuleerbaar)&quot;" data-v-8e286806>​</a></h3><p data-v-8e286806>Promise heeft <strong data-v-8e286806>geen standaard annulatiefunctionaliteit</strong>.</p><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>resolve</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Voltooid&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>});</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>promise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(result));</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Er is geen standaardmanier om deze verwerking te annuleren</span></span></code></pre></div><p data-v-8e286806>Eenmaal begonnen, kan het niet worden gestopt totdat het is voltooid, wat kan leiden tot geheugenlekken en prestatievermindering.</p><div class="warning custom-block github-alert" data-v-8e286806><p class="custom-block-title" data-v-8e286806>WARNING</p><p data-v-8e286806><strong data-v-8e286806>Over AbortController</strong> Web API&#39;s zoals <code data-v-8e286806>fetch()</code> kunnen worden geannuleerd met <code data-v-8e286806>AbortController</code>, maar dit is geen functionaliteit van Promise zelf, maar een mechanisme dat wordt geboden door individuele API&#39;s. Het kan niet voor alle asynchrone verwerkingen worden gebruikt.</p></div><h3 id="rxjs-annuleerbaar" tabindex="-1" data-v-8e286806>RxJS (annuleerbaar) <a class="header-anchor" href="#rxjs-annuleerbaar" aria-label="Permalink to &quot;RxJS (annuleerbaar)&quot;" data-v-8e286806>​</a></h3><p data-v-8e286806>RxJS kan <strong data-v-8e286806>altijd worden geannuleerd met <code data-v-8e286806>unsubscribe()</code></strong>.</p><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { timer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> subscription</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> timer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Voltooid&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>)</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Annuleren na 1 seconde</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  subscription.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>unsubscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Annuleren</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Geannuleerd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Output: Geannuleerd (&quot;Voltooid&quot; wordt niet uitgevoerd)</span></span></code></pre></div><p data-v-8e286806>Door het abonnement op te zeggen, stopt de lopende verwerking onmiddellijk en voorkom je geheugenlekken.</p><div class="tip custom-block github-alert" data-v-8e286806><p class="custom-block-title" data-v-8e286806>TIP</p><p data-v-8e286806><strong data-v-8e286806>Praktische toepassingsvoorbeelden van annulering</strong></p><ul data-v-8e286806><li data-v-8e286806>HTTP-verzoeken annuleren wanneer gebruiker het scherm verlaat</li><li data-v-8e286806>Oude zoekqueryresultaten weggooien en alleen de nieuwste query verwerken (<code data-v-8e286806>switchMap</code>)</li><li data-v-8e286806>Automatisch alle Observables annuleren bij vernietiging van component (<code data-v-8e286806>takeUntil</code>-patroon)</li></ul></div><h2 id="welke-kiezen" tabindex="-1" data-v-8e286806>Welke kiezen? <a class="header-anchor" href="#welke-kiezen" aria-label="Permalink to &quot;Welke kiezen?&quot;" data-v-8e286806>​</a></h2><p data-v-8e286806>Welke van Promise of RxJS je moet gebruiken, hangt af van de aard van de verwerking en de vereisten van het project. Gebruik de volgende criteria als referentie om de juiste tool te selecteren.</p><h3 id="wanneer-promise-te-kiezen" tabindex="-1" data-v-8e286806>Wanneer Promise te kiezen <a class="header-anchor" href="#wanneer-promise-te-kiezen" aria-label="Permalink to &quot;Wanneer Promise te kiezen&quot;" data-v-8e286806>​</a></h3><p data-v-8e286806>Als aan de volgende voorwaarden is voldaan, is Promise geschikt.</p><table tabindex="0" data-v-8e286806><thead data-v-8e286806><tr data-v-8e286806><th data-v-8e286806>Voorwaarde</th><th data-v-8e286806>Reden</th></tr></thead><tbody data-v-8e286806><tr data-v-8e286806><td data-v-8e286806>Enkele asynchrone verwerking</td><td data-v-8e286806>1 API-verzoek, 1 bestandslezen, etc.</td></tr><tr data-v-8e286806><td data-v-8e286806>Eenvoudige workflow</td><td data-v-8e286806><code data-v-8e286806>Promise.all</code>, <code data-v-8e286806>Promise.race</code> zijn voldoende</td></tr><tr data-v-8e286806><td data-v-8e286806>Kleinschalig project</td><td data-v-8e286806>Wil afhankelijkheden minimaliseren</td></tr><tr data-v-8e286806><td data-v-8e286806>Alleen standaard API&#39;s gebruiken</td><td data-v-8e286806>Wil externe bibliotheken vermijden</td></tr><tr data-v-8e286806><td data-v-8e286806>Code voor beginners</td><td data-v-8e286806>Wil leercurve verlagen</td></tr></tbody></table><h4 id="enkel-api-verzoek" tabindex="-1" data-v-8e286806>Enkel API-verzoek: <a class="header-anchor" href="#enkel-api-verzoek" aria-label="Permalink to &quot;Enkel API-verzoek:&quot;" data-v-8e286806>​</a></h4><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>  email</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>  username</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>}</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> getUserData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>userId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>&gt; {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>\`https://jsonplaceholder.typicode.com/users/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>userId</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>response.ok) {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Ophalen gebruikersgegevens mislukt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  }</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>();</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>}</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Gebruiksvoorbeeld</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>getUserData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Gebruikersnaam:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, user.name);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;E-mail:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, user.email);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>});</span></span></code></pre></div><p data-v-8e286806>Deze code is een typisch patroon voor het ophalen van enkele gebruikersinformatie. Door <code data-v-8e286806>async/await</code> te gebruiken, kun je het leesbaar schrijven alsof het synchrone code is. Foutafhandeling kan ook uniform worden gedaan met <code data-v-8e286806>try/catch</code>, eenvoudig en intuïtief.</p><h4 id="parallel-uitvoeren-van-meerdere-asynchrone-verwerkingen" tabindex="-1" data-v-8e286806>Parallel uitvoeren van meerdere asynchrone verwerkingen: <a class="header-anchor" href="#parallel-uitvoeren-van-meerdere-asynchrone-verwerkingen" aria-label="Permalink to &quot;Parallel uitvoeren van meerdere asynchrone verwerkingen:&quot;" data-v-8e286806>​</a></h4><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> Post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>  userId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>  title</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>  body</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>}</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> loadAllData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>&lt;[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>[], </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>Post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>[]]&gt; {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>all</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>([</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>    fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;https://jsonplaceholder.typicode.com/users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> r.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>()),</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>    fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;https://jsonplaceholder.typicode.com/posts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> r.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>())</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  ]);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> [users, posts];</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>}</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Gebruiksvoorbeeld</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>loadAllData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(([</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>users</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>posts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Aantal gebruikers:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, users.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Aantal posts:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, posts.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>});</span></span></code></pre></div><p data-v-8e286806>Door <code data-v-8e286806>Promise.all()</code> te gebruiken, kun je meerdere API-verzoeken parallel uitvoeren en wachten tot ze allemaal zijn voltooid. Dit is zeer handig voor het laden van initiële gegevens. Let op dat als er één mislukt, het hele geheel een fout geeft, maar juist door die eenvoud is het gemakkelijk te begrijpen en te onderhouden.</p><h3 id="wanneer-rxjs-te-kiezen" tabindex="-1" data-v-8e286806>Wanneer RxJS te kiezen <a class="header-anchor" href="#wanneer-rxjs-te-kiezen" aria-label="Permalink to &quot;Wanneer RxJS te kiezen&quot;" data-v-8e286806>​</a></h3><p data-v-8e286806>Als aan de volgende voorwaarden is voldaan, is RxJS geschikt.</p><table tabindex="0" data-v-8e286806><thead data-v-8e286806><tr data-v-8e286806><th data-v-8e286806>Voorwaarde</th><th data-v-8e286806>Reden</th></tr></thead><tbody data-v-8e286806><tr data-v-8e286806><td data-v-8e286806>Opeenvolgende event-afhandeling</td><td data-v-8e286806>Muisbewegingen, toetsenbordinvoer, WebSocket, etc.</td></tr><tr data-v-8e286806><td data-v-8e286806>Complexe streamverwerking</td><td data-v-8e286806>Combineren en transformeren van meerdere eventbronnen</td></tr><tr data-v-8e286806><td data-v-8e286806>Annulering nodig</td><td data-v-8e286806>Wil resourcebeheer gedetailleerd controleren</td></tr><tr data-v-8e286806><td data-v-8e286806>Opnieuw proberen &amp; timeout</td><td data-v-8e286806>Wil foutafhandeling flexibel uitvoeren</td></tr><tr data-v-8e286806><td data-v-8e286806>Angular-project</td><td data-v-8e286806>RxJS is geïntegreerd in framework</td></tr><tr data-v-8e286806><td data-v-8e286806>Realtime gegevens</td><td data-v-8e286806>Gegevens worden continu bijgewerkt</td></tr></tbody></table><h4 id="concreet-voorbeeld" tabindex="-1" data-v-8e286806>Concreet voorbeeld <a class="header-anchor" href="#concreet-voorbeeld" aria-label="Permalink to &quot;Concreet voorbeeld&quot;" data-v-8e286806>​</a></h4><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { fromEvent } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { debounceTime, map, distinctUntilChanged, switchMap } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> label</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;label&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>label.innerText </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;zoeken: &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> searchInput</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>searchInput.type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>label.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>appendChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(searchInput);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>document.body.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>appendChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(label);</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Realtime zoeken (autocomplete)</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>searchInput) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Zoekinvoerveld niet gevonden&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>fromEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(searchInput, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> (event.target </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> HTMLInputElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).value),</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  debounceTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>),              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Wacht 300ms voordat verwerken</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  distinctUntilChanged</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(),         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Verwerk alleen bij waardewijziging</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  switchMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>              // Voer alleen meest recente verzoek uit</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>    fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>\`https://api.github.com/search/users?q=\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>query</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> r.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>())</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  )</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>results</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Zoekresultaten:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, results.items); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// GitHub API slaat resultaten op in items-property</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>});</span></span></code></pre></div><p data-v-8e286806>Dit voorbeeld is een typisch geval waar de ware waarde van RxJS wordt getoond. Het monitort gebruikersinvoer, vermindert onnodige verzoeken door een wachttijd van 300ms in te stellen, verwerkt alleen wanneer de waarde verandert, en maakt bovendien alleen het nieuwste verzoek geldig (<code data-v-8e286806>switchMap</code>), waardoor resultaten van oude verzoeken automatisch worden weggegooid.</p><div class="important custom-block github-alert" data-v-8e286806><p class="custom-block-title" data-v-8e286806>IMPORTANT</p><p data-v-8e286806><strong data-v-8e286806>Waarom moeilijk met alleen Promise</strong></p><ul data-v-8e286806><li data-v-8e286806>Debounce (controle van continue invoer) moet handmatig worden geïmplementeerd</li><li data-v-8e286806>Je moet het annuleren van oude verzoeken zelf beheren</li><li data-v-8e286806>Als je vergeet event listeners op te ruimen, ontstaan geheugenlekken</li><li data-v-8e286806>Je moet meerdere statussen (timer, flags, verzoekbeheer) tegelijkertijd bijhouden</li></ul><p data-v-8e286806>Met RxJS kan dit allemaal declaratief in enkele regels worden gerealiseerd.</p></div><h2 id="interoperabiliteit-tussen-promise-en-rxjs" tabindex="-1" data-v-8e286806>Interoperabiliteit tussen Promise en RxJS <a class="header-anchor" href="#interoperabiliteit-tussen-promise-en-rxjs" aria-label="Permalink to &quot;Interoperabiliteit tussen Promise en RxJS&quot;" data-v-8e286806>​</a></h2><p data-v-8e286806>Promise en RxJS zijn niet exclusief en kunnen worden omgezet en gecombineerd. Handig wanneer je bestaande Promise-gebaseerde code wilt integreren in een RxJS-pipeline, of omgekeerd een Observable wilt gebruiken in bestaande Promise-gebaseerde code.</p><h2 id="promise-naar-observable-converteren" tabindex="-1" data-v-8e286806>Promise naar Observable converteren <a class="header-anchor" href="#promise-naar-observable-converteren" aria-label="Permalink to &quot;Promise naar Observable converteren&quot;" data-v-8e286806>​</a></h2><p data-v-8e286806>RxJS biedt meerdere manieren om een bestaande Promise naar Observable te converteren.</p><h3 id="conversie-met-from" tabindex="-1" data-v-8e286806>Conversie met <code data-v-8e286806>from</code> <a class="header-anchor" href="#conversie-met-from" aria-label="Permalink to &quot;Conversie met \`from\`&quot;" data-v-8e286806>​</a></h3><p data-v-8e286806>De meest gebruikelijke methode is het gebruik van <code data-v-8e286806>from</code>.</p><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { from } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Promise aanmaken</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;https://jsonplaceholder.typicode.com/posts/1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>)</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>());</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Converteren naar Observable met from()</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(promise);</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>({</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Gegevens:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, data),</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Fout:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, error),</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Voltooid&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>)</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>});</span></span></code></pre></div><p data-v-8e286806><code data-v-8e286806>from()</code> geeft 1 waarde uit wanneer de Promise wordt opgelost en voert onmiddellijk <code data-v-8e286806>complete</code> uit. Als er een fout optreedt, wordt een <code data-v-8e286806>error</code>-notificatie verzonden. Door deze conversie kun je RxJS-operators (<code data-v-8e286806>map</code>, <code data-v-8e286806>filter</code>, <code data-v-8e286806>retry</code>, etc.) vrij toepassen op gegevens afkomstig van Promise.</p><h3 id="conversie-met-defer-luie-evaluatie" tabindex="-1" data-v-8e286806>Conversie met <code data-v-8e286806>defer</code> (luie evaluatie) <a class="header-anchor" href="#conversie-met-defer-luie-evaluatie" aria-label="Permalink to &quot;Conversie met \`defer\` (luie evaluatie)&quot;" data-v-8e286806>​</a></h3><p data-v-8e286806><code data-v-8e286806>defer</code> stelt het aanmaken van de Promise uit tot subscribe.</p><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { defer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Promise wordt niet aangemaakt totdat subscribe wordt uitgevoerd</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=&gt;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;https://jsonplaceholder.typicode.com/posts/1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> r.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>())</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Maakt nieuwe Promise aan per subscribe</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;1e keer:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, data));</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;2e keer:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, data));</span></span></code></pre></div><p data-v-8e286806>Deze methode is handig wanneer je bij elke subscribe een nieuwe Promise wilt aanmaken.</p><h2 id="observable-naar-promise-converteren" tabindex="-1" data-v-8e286806>Observable naar Promise converteren <a class="header-anchor" href="#observable-naar-promise-converteren" aria-label="Permalink to &quot;Observable naar Promise converteren&quot;" data-v-8e286806>​</a></h2><p data-v-8e286806>Je kunt slechts één waarde uit een Observable halen en er een Promise van maken.</p><h3 id="firstvaluefrom-en-lastvaluefrom" tabindex="-1" data-v-8e286806><code data-v-8e286806>firstValueFrom</code> en <code data-v-8e286806>lastValueFrom</code> <a class="header-anchor" href="#firstvaluefrom-en-lastvaluefrom" aria-label="Permalink to &quot;\`firstValueFrom\` en \`lastValueFrom\`&quot;" data-v-8e286806>​</a></h3><p data-v-8e286806>Vanaf RxJS 7 worden de volgende twee functies aanbevolen.</p><table tabindex="0" data-v-8e286806><thead data-v-8e286806><tr data-v-8e286806><th data-v-8e286806>Functie</th><th data-v-8e286806>Werking</th></tr></thead><tbody data-v-8e286806><tr data-v-8e286806><td data-v-8e286806><code data-v-8e286806>firstValueFrom</code></td><td data-v-8e286806>Retourneert eerste waarde als Promise</td></tr><tr data-v-8e286806><td data-v-8e286806><code data-v-8e286806>lastValueFrom</code></td><td data-v-8e286806>Retourneert laatste waarde bij voltooiing als Promise</td></tr></tbody></table><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { of, firstValueFrom, lastValueFrom } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { delay } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>delay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>));</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Eerste waarde als Promise ophalen</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> firstValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> firstValueFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(observable$);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(firstValue); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// 1</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Laatste waarde als Promise ophalen</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> lastValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> lastValueFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(observable$);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(lastValue); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// 3</span></span></code></pre></div><p data-v-8e286806>Als Observable voltooit voordat waarden worden doorgegeven, resulteert dit standaard in een fout. Dit kan worden voorkomen door een standaardwaarde op te geven.</p><div class="warning custom-block github-alert" data-v-8e286806><p class="custom-block-title" data-v-8e286806>WARNING</p><p data-v-8e286806><code data-v-8e286806>toPromise()</code> is verouderd. Gebruik in plaats daarvan <code data-v-8e286806>firstValueFrom()</code> of <code data-v-8e286806>lastValueFrom()</code>.</p></div><div class="tip custom-block github-alert" data-v-8e286806><p class="custom-block-title" data-v-8e286806>TIP</p><p data-v-8e286806><strong data-v-8e286806>Selectierichtlijn</strong></p><ul data-v-8e286806><li data-v-8e286806><strong data-v-8e286806><code data-v-8e286806>firstValueFrom()</code></strong>: Wanneer alleen de eerste waarde nodig is (bijv: login authenticatieresultaat)</li><li data-v-8e286806><strong data-v-8e286806><code data-v-8e286806>lastValueFrom()</code></strong>: Wanneer eindresultaat na verwerking van alle gegevens nodig is (bijv: aggregatieresultaat)</li></ul></div><h2 id="praktisch-voorbeeld-beide-combineren" tabindex="-1" data-v-8e286806>Praktisch voorbeeld: beide combineren <a class="header-anchor" href="#praktisch-voorbeeld-beide-combineren" aria-label="Permalink to &quot;Praktisch voorbeeld: beide combineren&quot;" data-v-8e286806>​</a></h2><p data-v-8e286806>In echte applicaties is het gebruikelijk om Promise en RxJS gecombineerd te gebruiken.</p><div class="warning custom-block github-alert" data-v-8e286806><p class="custom-block-title" data-v-8e286806>Aandachtspunten in de praktijk</p><p data-v-8e286806>Het mengen van Promise en Observable kan <strong data-v-8e286806>gemakkelijk leiden tot anti-patterns als de ontwerpgrenzen niet duidelijk zijn</strong>.</p><p data-v-8e286806><strong data-v-8e286806>Veelvoorkomende problemen:</strong></p><ul data-v-8e286806><li data-v-8e286806>Wordt niet-annuleerbaar</li><li data-v-8e286806>Scheiding van foutafhandeling</li><li data-v-8e286806><code data-v-8e286806>await</code> binnen <code data-v-8e286806>subscribe</code> (bijzonder gevaarlijk)</li><li data-v-8e286806>Parallel ophalen van dezelfde gegevens met Promise en Observable</li></ul><p data-v-8e286806>Zie voor details <strong data-v-8e286806><a href="/RxJS-with-TypeScript/nl/guide/anti-patterns/promise-observable-mixing" data-v-8e286806>Hoofdstuk 10: Anti-pattern van Promise en Observable mengen</a></strong>.</p></div><h3 id="formulierinzending-en-api-aanroep" tabindex="-1" data-v-8e286806>Formulierinzending en API-aanroep <a class="header-anchor" href="#formulierinzending-en-api-aanroep" aria-label="Permalink to &quot;Formulierinzending en API-aanroep&quot;" data-v-8e286806>​</a></h3><p data-v-8e286806>Voorbeeld van het opvangen van gebruikersformulier-inzendings-events met RxJS en verzenden naar server met Fetch API (Promise).</p><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { fromEvent, from } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { exhaustMap, catchError } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { of } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> FormData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>  username</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>  email</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>}</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Promise-gebaseerde formulierinzending</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> submitForm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> FormData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>&lt;{ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>success</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> }&gt; {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;https://api.example.com/submit&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>    method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;POST&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>,</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>    headers: { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;application/json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> },</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>    body: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(data)</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  });</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>response.ok) {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Verzenden mislukt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  }</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>();</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>}</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Eventstream beheren met RxJS</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> submitButton</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>submitButton.id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;submit-button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>submitButton.innerText </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;Verzenden&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>submitButton.style.padding </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;10px 20px&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>submitButton.style.margin </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;10px&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>document.body.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>appendChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(submitButton);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>submitButton) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Verzendknop niet gevonden&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>fromEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(submitButton, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;click&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  exhaustMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> formData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> FormData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>      username: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;testuser&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>,</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>      email: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;test@example.com&#39;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>    };</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>    // Promise-functie converteren naar Observable</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>submitForm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(formData));</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  }),</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  catchError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Verzendfout:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, error);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>({ success: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> });</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  })</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> (result.success) {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Verzending geslaagd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Verzending mislukt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  }</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>});</span></span></code></pre></div><p data-v-8e286806>Telkens wanneer de formulier-verzendknop wordt geklikt, wordt een nieuw verzendproces gestart, maar <strong data-v-8e286806>nieuwe verzendingen worden genegeerd tijdens het verzenden</strong>.</p><p data-v-8e286806>In dit voorbeeld voorkomt het gebruik van <code data-v-8e286806>exhaustMap</code> dubbele verzoeken tijdens verzending.</p><h3 id="zoek-autocomplete" tabindex="-1" data-v-8e286806>Zoek-autocomplete <a class="header-anchor" href="#zoek-autocomplete" aria-label="Permalink to &quot;Zoek-autocomplete&quot;" data-v-8e286806>​</a></h3><p data-v-8e286806>Voorbeeld van het monitoren van wijzigingen in invoerformulierwaarde en uitvoeren van API-zoekactie.</p><div class="language-ts vp-adaptive-theme" data-v-8e286806><button title="Copy Code" class="copy" data-v-8e286806></button><span class="lang" data-v-8e286806>ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0" data-v-8e286806><code data-v-8e286806><span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { fromEvent, from } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { debounceTime, switchMap, catchError } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> { of } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> SearchResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>  items</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>&lt;{</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>    login</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>    id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>    avatar_url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  }&gt;;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>  total_count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>}</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Promise-gebaseerde API-functie</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> searchAPI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>SearchResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>&gt; {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>\`https://api.github.com/search/users?q=\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>query</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>response.ok) {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Zoeken mislukt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  }</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>();</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>}</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Eventstream beheren met RxJS</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> label</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;label&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>label.innerText </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;zoeken: &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> searchInput</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>createElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>searchInput.type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806> &#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>label.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>appendChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(searchInput);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>document.body.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>appendChild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(label);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>searchInput) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Zoekinvoerveld niet gevonden&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>);</span></span>
<span class="line" data-v-8e286806></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>fromEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(searchInput, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;input&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  debounceTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>),</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  switchMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806> query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> (event.target </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> HTMLInputElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).value;</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>    // Promise-functie converteren naar Observable</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>searchAPI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(query));</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  }),</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>  catchError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(error);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806>    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>({ items: [], total_count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;" data-v-8e286806>0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> }); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;" data-v-8e286806>// Bij fout lege resultaten retourneren</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  })</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;" data-v-8e286806>result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;" data-v-8e286806> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806> {</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Zoekresultaten:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, result.items);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;" data-v-8e286806>log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;" data-v-8e286806>&#39;Totaal:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>, result.total_count);</span></span>
<span class="line" data-v-8e286806><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;" data-v-8e286806>});</span></span></code></pre></div><div class="tip custom-block github-alert" data-v-8e286806><p class="custom-block-title" data-v-8e286806>TIP</p><p data-v-8e286806><strong data-v-8e286806>Ontwerp door scheiding van verantwoordelijkheden</strong></p><ul data-v-8e286806><li data-v-8e286806><strong data-v-8e286806>RxJS</strong>: Verantwoordelijk voor event-controle (debounce, switchMap, etc.)</li><li data-v-8e286806><strong data-v-8e286806>Promise</strong>: Verantwoordelijk voor HTTP-verzoeken (async/await)</li><li data-v-8e286806><strong data-v-8e286806><code data-v-8e286806>from()</code></strong>: Overbrugt beide</li></ul><p data-v-8e286806>Door elke technologie op de juiste plaats te gebruiken, verbeteren de leesbaarheid en onderhoudbaarheid van de code.</p></div><h2 id="voor-en-nadelen" tabindex="-1" data-v-8e286806>Voor- en nadelen <a class="header-anchor" href="#voor-en-nadelen" aria-label="Permalink to &quot;Voor- en nadelen&quot;" data-v-8e286806>​</a></h2><h3 id="promise-1" tabindex="-1" data-v-8e286806>Promise <a class="header-anchor" href="#promise-1" aria-label="Permalink to &quot;Promise&quot;" data-v-8e286806>​</a></h3><div class="comparison-cards" data-v-8e286806><div class="tip custom-block" data-v-8e286806><p class="custom-block-title" data-v-8e286806>Voordelen</p><ul data-v-8e286806><li data-v-8e286806>Geen afhankelijkheden nodig omdat het een JavaScript-standaard is</li><li data-v-8e286806>Intuïtieve en leesbare code dankzij <code data-v-8e286806>async/await</code></li><li data-v-8e286806>Lage leercurve</li><li data-v-8e286806>Eenvoudige verwerking van enkele taken</li></ul></div><div class="danger custom-block" data-v-8e286806><p class="custom-block-title" data-v-8e286806>Nadelen</p><ul data-v-8e286806><li data-v-8e286806>Kan niet omgaan met meerdere waarden</li><li data-v-8e286806>Geen annulatiefunctionaliteit</li><li data-v-8e286806>Niet geschikt voor opeenvolgende streamverwerking</li><li data-v-8e286806>Moeilijke complexe event-afhandeling</li></ul></div></div><h3 id="rxjs-1" tabindex="-1" data-v-8e286806>RxJS <a class="header-anchor" href="#rxjs-1" aria-label="Permalink to &quot;RxJS&quot;" data-v-8e286806>​</a></h3><div class="comparison-cards" data-v-8e286806><div class="tip custom-block" data-v-8e286806><p class="custom-block-title" data-v-8e286806>Voordelen</p><ul data-v-8e286806><li data-v-8e286806>Kan meerdere waarden in tijdreeks behandelen</li><li data-v-8e286806>Complexe verwerking mogelijk met rijke operators</li><li data-v-8e286806>Annuleren (<code data-v-8e286806>unsubscribe</code>) is gemakkelijk</li><li data-v-8e286806>Flexibele implementatie van foutafhandeling en opnieuw proberen mogelijk</li><li data-v-8e286806>Declaratief en gemakkelijk te testen</li></ul></div><div class="danger custom-block" data-v-8e286806><p class="custom-block-title" data-v-8e286806>Nadelen</p><ul data-v-8e286806><li data-v-8e286806>Hoge leercurve</li><li data-v-8e286806>Afhankelijkheid van bibliotheek nodig</li><li data-v-8e286806>Heeft overhead (excessief voor kleinschalige projecten)</li><li data-v-8e286806>Debuggen kan moeilijk zijn</li></ul></div></div><h2 id="gebieden-waar-rxjs-bijzonder-uitblinkt" tabindex="-1" data-v-8e286806>Gebieden waar RxJS bijzonder uitblinkt <a class="header-anchor" href="#gebieden-waar-rxjs-bijzonder-uitblinkt" aria-label="Permalink to &quot;Gebieden waar RxJS bijzonder uitblinkt&quot;" data-v-8e286806>​</a></h2><p data-v-8e286806>RxJS is bijzonder krachtig in de volgende gebieden. Het kan complexe vereisten die moeilijk te realiseren zijn met alleen Promise, elegant oplossen.</p><table tabindex="0" data-v-8e286806><thead data-v-8e286806><tr data-v-8e286806><th data-v-8e286806>Gebied</th><th data-v-8e286806>Concreet voorbeeld</th><th data-v-8e286806>Vergelijking met Promise</th></tr></thead><tbody data-v-8e286806><tr data-v-8e286806><td data-v-8e286806><strong data-v-8e286806>Realtime communicatie</strong></td><td data-v-8e286806>WebSocket, SSE, chat, koersupdates</td><td data-v-8e286806>Promise alleen voor eenmalige communicatie. Niet geschikt voor opeenvolgende berichtverwerking</td></tr><tr data-v-8e286806><td data-v-8e286806><strong data-v-8e286806>Gebruikersinvoer-controle</strong></td><td data-v-8e286806>Zoek-autocomplete, formuliervalidatie</td><td data-v-8e286806>debounce, distinctUntilChanged etc. standaard uitgerust</td></tr><tr data-v-8e286806><td data-v-8e286806><strong data-v-8e286806>Combinatie van meerdere bronnen</strong></td><td data-v-8e286806>Combinatie van zoekvoorwaarden × sorteervolgorde × filters</td><td data-v-8e286806>Beknopt beschreven met combineLatest, withLatestFrom</td></tr><tr data-v-8e286806><td data-v-8e286806><strong data-v-8e286806>Offline-ondersteuning</strong></td><td data-v-8e286806>PWA, netwerkstatusmonitoring, automatische hersynchronisatie</td><td data-v-8e286806>Flexibele retry-controle met retry, retryWhen</td></tr><tr data-v-8e286806><td data-v-8e286806><strong data-v-8e286806>Streaming-API&#39;s</strong></td><td data-v-8e286806>OpenAI, AI-respons token-voor-token uitvoer</td><td data-v-8e286806>Continue gegevens realtime verwerken mogelijk</td></tr><tr data-v-8e286806><td data-v-8e286806><strong data-v-8e286806>Annulatie-controle</strong></td><td data-v-8e286806>Onderbreken van langdurige verwerking, weggooien oude verzoeken</td><td data-v-8e286806>Onmiddellijk annuleren mogelijk met unsubscribe()</td></tr></tbody></table><div class="note custom-block github-alert" data-v-8e286806><p class="custom-block-title" data-v-8e286806>NOTE</p><p data-v-8e286806>Zie ook <a href="./what-is-rxjs#use-cases" data-v-8e286806>Wat is RxJS - Use cases</a> voor details over toepassingsgebieden van RxJS.</p></div><h2 id="samenvatting" tabindex="-1" data-v-8e286806>Samenvatting <a class="header-anchor" href="#samenvatting" aria-label="Permalink to &quot;Samenvatting&quot;" data-v-8e286806>​</a></h2><table tabindex="0" data-v-8e286806><thead data-v-8e286806><tr data-v-8e286806><th data-v-8e286806>Doel</th><th data-v-8e286806>Aanbevolen</th><th data-v-8e286806>Reden</th></tr></thead><tbody data-v-8e286806><tr data-v-8e286806><td data-v-8e286806>Enkel HTTP-verzoek</td><td data-v-8e286806>Promise (<code data-v-8e286806>async/await</code>)</td><td data-v-8e286806>Eenvoudig en leesbaar, standaard API</td></tr><tr data-v-8e286806><td data-v-8e286806>Verwerking van gebruikersinvoer-events</td><td data-v-8e286806>RxJS</td><td data-v-8e286806>Controle zoals debounce, distinct nodig</td></tr><tr data-v-8e286806><td data-v-8e286806>Realtime gegevens (WebSocket)</td><td data-v-8e286806>RxJS</td><td data-v-8e286806>Kan opeenvolgende berichten natuurlijk behandelen</td></tr><tr data-v-8e286806><td data-v-8e286806>Parallel uitvoeren van meerdere asynchrone verwerkingen</td><td data-v-8e286806>Promise (<code data-v-8e286806>Promise.all</code>)</td><td data-v-8e286806>Promise is voldoende voor eenvoudige parallelle uitvoering</td></tr><tr data-v-8e286806><td data-v-8e286806>Opeenvolgende eventstream</td><td data-v-8e286806>RxJS</td><td data-v-8e286806>Kan meerdere waarden in tijdreeks behandelen</td></tr><tr data-v-8e286806><td data-v-8e286806>Annuleerbare verwerking</td><td data-v-8e286806>RxJS</td><td data-v-8e286806>Betrouwbaar annuleren met unsubscribe()</td></tr><tr data-v-8e286806><td data-v-8e286806>Eenvoudige applicatie</td><td data-v-8e286806>Promise</td><td data-v-8e286806>Lage leercurve, weinig afhankelijkheden</td></tr><tr data-v-8e286806><td data-v-8e286806>Angular-applicatie</td><td data-v-8e286806>RxJS</td><td data-v-8e286806>Standaard geïntegreerd in framework</td></tr></tbody></table><h3 id="basisbeleid" tabindex="-1" data-v-8e286806>Basisbeleid <a class="header-anchor" href="#basisbeleid" aria-label="Permalink to &quot;Basisbeleid&quot;" data-v-8e286806>​</a></h3><ul data-v-8e286806><li data-v-8e286806><strong data-v-8e286806>Gebruik Promise als het eenvoudig kan</strong></li><li data-v-8e286806><strong data-v-8e286806>Gebruik RxJS als complexe streamverwerking nodig is</strong></li><li data-v-8e286806><strong data-v-8e286806>Combineren van beide</strong> is ook effectief (overbruggen met <code data-v-8e286806>from()</code>)</li></ul><p data-v-8e286806>RxJS is krachtig, maar je hoeft niet RxJS te gebruiken voor alle asynchrone verwerkingen. Het is belangrijk om de juiste tool op de juiste plaats te gebruiken.</p><div class="tip custom-block github-alert" data-v-8e286806><p class="custom-block-title" data-v-8e286806>Volgende stap</p><p data-v-8e286806></p><ul data-v-8e286806><li data-v-8e286806>Leer details van Observable in <a href="/RxJS-with-TypeScript/nl/guide/observables/what-is-observable" data-v-8e286806>Wat is Observable</a></li><li data-v-8e286806>Leer hoe Observable aan te maken in <a href="/RxJS-with-TypeScript/nl/guide/creation-functions/index" data-v-8e286806>Creation Functions</a></li><li data-v-8e286806>Leer transformatie en controle van Observable in <a href="/RxJS-with-TypeScript/nl/guide/operators/index" data-v-8e286806>Operators</a></li></ul></div><hr class="footnotes-sep" data-v-8e286806><section class="footnotes" data-v-8e286806><ol class="footnotes-list" data-v-8e286806><li id="fn1" class="footnote-item" data-v-8e286806><p data-v-8e286806>Met AbortController is het annuleren van Promise-gebaseerde verwerking (zoals fetch) mogelijk, maar Promise-specificatie zelf heeft geen annulatiefunctionaliteit. <a href="#fnref1" class="footnote-backref" data-v-8e286806>↩︎</a></p></li></ol></section>`,105)])])}const o=s(n,[["render",d],["__scopeId","data-v-8e286806"]]);export{E as __pageData,o as default};
