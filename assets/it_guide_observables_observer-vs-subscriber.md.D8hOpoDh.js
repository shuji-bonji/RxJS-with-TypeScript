import{_ as p,C as h,c as k,o as e,a2 as a,b as t,w as i,a as l,G as r,a3 as o}from"./chunks/framework.D3KFGq5-.js";const F=JSON.parse(`{"title":"Differenza tra Observer e Subscriber","description":"Observer e Subscriber in RxJS vengono spesso confusi, ma hanno ruoli nettamente diversi: l'Observer è l'interfaccia che definisce il modo in cui i dati vengono ricevuti, mentre il Subscriber è la classe che gestisce l'effettiva sottoscrizione. Questa sezione spiega le differenze tra i due e le definizioni dei tipi in TypeScript.","frontmatter":{"description":"Observer e Subscriber in RxJS vengono spesso confusi, ma hanno ruoli nettamente diversi: l'Observer è l'interfaccia che definisce il modo in cui i dati vengono ricevuti, mentre il Subscriber è la classe che gestisce l'effettiva sottoscrizione. Questa sezione spiega le differenze tra i due e le definizioni dei tipi in TypeScript."},"headers":[],"relativePath":"it/guide/observables/observer-vs-subscriber.md","filePath":"it/guide/observables/observer-vs-subscriber.md","lastUpdated":1765383284000}`),c={name:"it/guide/observables/observer-vs-subscriber.md"};function d(b,s,u,E,g,y){const n=h("Mermaid");return e(),k("div",null,[s[2]||(s[2]=a(`<h1 id="differenza-tra-observer-e-subscriber" tabindex="-1">Differenza tra Observer e Subscriber <a class="header-anchor" href="#differenza-tra-observer-e-subscriber" aria-label="Permalink to &quot;Differenza tra Observer e Subscriber&quot;">​</a></h1><h2 id="perche-vengono-confusi" tabindex="-1">Perché vengono confusi <a class="header-anchor" href="#perche-vengono-confusi" aria-label="Permalink to &quot;Perché vengono confusi&quot;">​</a></h2><p>Quando si impara RxJS, i termini &quot;Observer&quot; e &quot;Subscriber&quot; possono creare confusione. I due sono strettamente correlati, ma hanno ruoli nettamente diversi.</p><h2 id="cos-e-un-observer" tabindex="-1">Cos&#39;è un Observer <a class="header-anchor" href="#cos-e-un-observer" aria-label="Permalink to &quot;Cos&#39;è un Observer&quot;">​</a></h2><p>Un <strong>Observer (Osservatore)</strong> è un&#39;<strong>interfaccia</strong> per ricevere dati.</p><h3 id="definizione-di-observer" tabindex="-1">Definizione di Observer <a class="header-anchor" href="#definizione-di-observer" aria-label="Permalink to &quot;Definizione di Observer&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Riceve valori</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Riceve errori</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  complete</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Riceve il completamento</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="ruolo-dell-observer" tabindex="-1">Ruolo dell&#39;Observer <a class="header-anchor" href="#ruolo-dell-observer" aria-label="Permalink to &quot;Ruolo dell&#39;Observer&quot;">​</a></h3><ul><li>Definisce come i dati vengono &quot;ricevuti&quot;</li><li>Ha tre funzioni di callback</li><li>Descrive <strong>cosa fare</strong></li></ul><h2 id="cos-e-un-subscriber" tabindex="-1">Cos&#39;è un Subscriber <a class="header-anchor" href="#cos-e-un-subscriber" aria-label="Permalink to &quot;Cos&#39;è un Subscriber&quot;">​</a></h2><p>Un <strong>Subscriber (Sottoscrittore)</strong> è una <strong>classe</strong> che implementa Observer e gestisce l&#39;effettivo processo di sottoscrizione.</p><h3 id="ruolo-del-subscriber" tabindex="-1">Ruolo del Subscriber <a class="header-anchor" href="#ruolo-del-subscriber" aria-label="Permalink to &quot;Ruolo del Subscriber&quot;">​</a></h3><ul><li>Esegue le callback dell&#39;Observer</li><li>Mantiene la Subscription (gestione delle sottoscrizioni)</li><li>Gestisce il processo di disiscrizione</li><li>Controlla <strong>come viene eseguito</strong></li></ul><h2 id="due-situazioni-in-cui-compare-subscriber" tabindex="-1">Due situazioni in cui compare Subscriber <a class="header-anchor" href="#due-situazioni-in-cui-compare-subscriber" aria-label="Permalink to &quot;Due situazioni in cui compare Subscriber&quot;">​</a></h2><p>Subscriber appare in <strong>due diverse situazioni</strong>. Tuttavia, <strong>entrambi sono lo stesso oggetto Subscriber</strong>. Capire questa differenza è fondamentale per evitare confusione.</p><h3 id="situazione-1-quando-si-crea-un-observable-ricevuto-come-parametro" tabindex="-1">Situazione 1: Quando si crea un Observable (ricevuto come parametro) <a class="header-anchor" href="#situazione-1-quando-si-crea-un-observable-ricevuto-come-parametro" aria-label="Permalink to &quot;Situazione 1: Quando si crea un Observable (ricevuto come parametro)&quot;">​</a></h3><p>Quando si crea un Observable con <code>new Observable()</code>, il <code>subscriber</code> viene passato come parametro alla funzione costruttore.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Observable } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Usa subscriber per emettere valori (tipo è Subscriber&lt;number&gt;)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">subscriber</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Emette un valore</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Notifica il completamento</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Tipo di subscriber in questa situazione</p><ul><li>Tipo: <code>Subscriber&lt;number&gt;</code></li><li>Ruolo: Usato per pubblicare dati internamente nell&#39;Observable</li><li>Usato direttamente dallo sviluppatore (chiama <code>next()</code>, <code>error()</code>, <code>complete()</code>)</li></ul></div><h3 id="situazione-2-quando-viene-chiamato-subscribe-converte-observer-→-subscriber" tabindex="-1">Situazione 2: Quando viene chiamato subscribe() (converte Observer → Subscriber) <a class="header-anchor" href="#situazione-2-quando-viene-chiamato-subscribe-converte-observer-→-subscriber" aria-label="Permalink to &quot;Situazione 2: Quando viene chiamato subscribe() (converte Observer → Subscriber)&quot;">​</a></h3><p>Quando si chiama <code>subscribe()</code> su un Observable, l&#39;<strong>Observer passato dallo sviluppatore viene internamente convertito in un Subscriber</strong>.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Lo sviluppatore passa un&#39;interfaccia Observer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Valore successivo:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Errore:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, err),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Completato&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ↑ RxJS internamente crea il Subscriber come segue</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// const subscriber = new Subscriber(observer);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// E questo subscriber viene passato come parametro nella situazione 1</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Elaborazione in questa situazione</p><ol><li>Lo sviluppatore passa l&#39;interfaccia <code>Observer</code></li><li>RxJS avvolge internamente l&#39;<code>Observer</code> in un <code>Subscriber</code></li><li>Il <code>Subscriber</code> viene passato alla funzione costruttore dell&#39;Observable (= <code>subscriber</code> nella situazione 1)</li></ol></div><h3 id="importante-entrambi-sono-lo-stesso-oggetto-subscriber" tabindex="-1">Importante: entrambi sono lo stesso oggetto Subscriber <a class="header-anchor" href="#importante-entrambi-sono-lo-stesso-oggetto-subscriber" aria-label="Permalink to &quot;Importante: entrambi sono lo stesso oggetto Subscriber&quot;">​</a></h3><div class="important custom-block github-alert"><p class="custom-block-title">Il \`Subscriber\` della situazione 1 e della situazione 2 è lo stesso oggetto</p><p></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">subscriber</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Questo subscriber è lo stesso oggetto Subscriber</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // creato quando viene chiamato subscribe()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Questo Observer viene avvolto in un Subscriber,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // che viene passato alla funzione costruttore sopra</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>In altre parole:</strong></p><ul><li>Lo sviluppatore chiama <code>subscribe(observer)</code></li><li>RxJS crea un <code>new Subscriber(observer)</code></li><li>Questo Subscriber diventa l&#39;argomento della funzione costruttore dell&#39;Observable</li><li>Quindi <code>subscriber</code> nella situazione 1 = <code>Subscriber</code> creato nella situazione 2</li></ul></div><h2 id="illustrazione-delle-relazioni" tabindex="-1">Illustrazione delle relazioni <a class="header-anchor" href="#illustrazione-delle-relazioni" aria-label="Permalink to &quot;Illustrazione delle relazioni&quot;">​</a></h2>`,26)),(e(),t(o,null,{default:i(()=>[r(n,{id:"mermaid-165",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20Observable%5B%22Observable%22%5D%0A%20%20%20%20Subscribe%5B%22subscribe()%22%5D%0A%20%20%20%20Subscriber%5B%22Subscriber%3Cbr%2F%3E(classe%20di%20implementazione)%22%5D%0A%20%20%20%20Observer%5B%22Observer%3Cbr%2F%3E(interfaccia)%22%5D%0A%20%20%20%20Subscription%5B%22Subscription%3Cbr%2F%3E(gestione%20sottoscrizione)%22%5D%0A%0A%20%20%20%20Observable%20--%3E%20Subscribe%0A%20%20%20%20Subscribe%20--%3E%7Ccrea%20internamente%7C%20Subscriber%0A%20%20%20%20Subscriber%20--%3E%7Cimplementa%7C%20Observer%0A%20%20%20%20Subscriber%20--%3E%7Cmantiene%20e%20gestisce%7C%20Subscription%0A%0A%20%20%20%20Observer%20--%3E%7Cnext%2Ferror%2Fcomplete%7C%20Callbacks%5B%22Funzioni%20callback%22%5D%0A%20%20%20%20Subscription%20--%3E%7Cunsubscribe%7C%20Cleanup%5B%22Disiscrizione%22%5D%0A%0A%20%20%20%20style%20Observer%20fill%3A%23fff4e1%0A%20%20%20%20style%20Subscriber%20fill%3A%23e8f5e9%0A%20%20%20%20style%20Subscription%20fill%3A%23e1f5ff%0A"})]),fallback:i(()=>[...s[0]||(s[0]=[l(" Loading... ",-1)])]),_:1})),s[3]||(s[3]=a(`<h2 id="differenze-viste-nel-codice" tabindex="-1">Differenze viste nel codice <a class="header-anchor" href="#differenze-viste-nel-codice" aria-label="Permalink to &quot;Differenze viste nel codice&quot;">​</a></h2><h3 id="esempio-completo-dalla-creazione-dell-observable-alla-sottoscrizione" tabindex="-1">Esempio completo: dalla creazione dell&#39;Observable alla sottoscrizione <a class="header-anchor" href="#esempio-completo-dalla-creazione-dell-observable-alla-sottoscrizione" aria-label="Permalink to &quot;Esempio completo: dalla creazione dell&#39;Observable alla sottoscrizione&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Observable } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. Creazione Observable: usa subscriber per emettere valori</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">subscriber</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Inizio sottoscrizione&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. Sottoscrizione: passa un Observer (internamente viene creato il Subscriber)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Valore successivo:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Errore:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, err),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Completato&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Output:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Inizio sottoscrizione</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Valore successivo: 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Valore successivo: 2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Valore successivo: 3</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Completato</span></span></code></pre></div><h4 id="in-questo-esempio" tabindex="-1">In questo esempio <a class="header-anchor" href="#in-questo-esempio" aria-label="Permalink to &quot;In questo esempio&quot;">​</a></h4><ul><li><strong><code>subscriber</code> alla creazione</strong>: usato per pubblicare dati all&#39;interno dell&#39;Observable</li><li><strong><code>Observer</code> alla sottoscrizione</strong>: definisce il processo per ricevere i dati pubblicati</li></ul><h3 id="quando-si-passa-un-observer" tabindex="-1">Quando si passa un Observer <a class="header-anchor" href="#quando-si-passa-un-observer" aria-label="Permalink to &quot;Quando si passa un Observer&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { interval } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> observer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Completato&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Passa Observer a subscribe</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> subscription</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(observer);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Internamente viene creato un Subscriber che esegue le callback dell&#39;observer</span></span></code></pre></div><h3 id="quando-si-passano-direttamente-le-callback-notazione-semplificata" tabindex="-1">Quando si passano direttamente le callback (notazione semplificata) <a class="header-anchor" href="#quando-si-passano-direttamente-le-callback-notazione-semplificata" aria-label="Permalink to &quot;Quando si passano direttamente le callback (notazione semplificata)&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Anche qui viene creato internamente un Subscriber</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> subscription</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value),  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// next</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err),    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// error</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Completato&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// complete</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="flusso-effettivo-dell-operazione" tabindex="-1">Flusso effettivo dell&#39;operazione <a class="header-anchor" href="#flusso-effettivo-dell-operazione" aria-label="Permalink to &quot;Flusso effettivo dell&#39;operazione&quot;">​</a></h2><p>Il seguente diagramma di sequenza mostra il flusso dalla creazione dell&#39;Observable alla sottoscrizione e alla pubblicazione dei dati.</p>`,11)),(e(),t(o,null,{default:i(()=>[r(n,{id:"mermaid-202",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20App%20as%20Applicazione%0A%20%20%20%20participant%20Obs%20as%20Observable%3Cbr%2F%3EFunzione%20costruttore%0A%20%20%20%20participant%20Sub%20as%20Subscriber%0A%20%20%20%20participant%20Obv%20as%20Observer%0A%0A%20%20%20%20Note%20over%20App%2CObv%3A%20Fase%20di%20sottoscrizione%0A%20%20%20%20App-%3E%3EObs%3A%20subscribe(observer)%0A%20%20%20%20Note%20over%20Obs%3A%20Avvolge%20Observer%20in%20Subscriber%0A%20%20%20%20Obs-%3E%3ESub%3A%20Crea%20new%20Subscriber(observer)%0A%20%20%20%20Sub-%3E%3EObv%3A%20Mantiene%20Observer%20internamente%0A%0A%20%20%20%20Note%20over%20App%2CObv%3A%20Fase%20di%20emissione%20dati%0A%20%20%20%20Note%20over%20Obs%3A%20Esegue%20la%20funzione%20costruttore%3Cbr%2F%3Esubscriber.next()%20viene%20chiamato%0A%20%20%20%20Obs-%3E%3ESub%3A%20subscriber.next(value)%0A%20%20%20%20Sub-%3E%3EObv%3A%20Esegue%20observer.next(value)%0A%20%20%20%20Obv--%3E%3EApp%3A%20Output%20console%20ecc.%0A%0A%20%20%20%20Note%20over%20App%2CObv%3A%20Fase%20di%20disiscrizione%0A%20%20%20%20App-%3E%3ESub%3A%20unsubscribe()%0A%20%20%20%20Sub-%3E%3EObs%3A%20Rilascio%20risorse%0A"})]),fallback:i(()=>[...s[1]||(s[1]=[l(" Loading... ",-1)])]),_:1})),s[4]||(s[4]=a(`<p><strong>Punti importanti di questo flusso:</strong></p><ol><li>La chiamata a <code>subscribe(observer)</code> crea un <code>new Subscriber(observer)</code></li><li>Il Subscriber viene passato come parametro alla funzione costruttore dell&#39;Observable</li><li>Quando viene chiamato <code>subscriber.next()</code> nella funzione costruttore, viene eseguito l&#39;interno <code>observer.next()</code></li><li>In altre parole, <strong><code>subscriber</code> nella situazione 1 = <code>Subscriber</code> creato nella situazione 2</strong></li></ol><h2 id="punti-chiave" tabindex="-1">Punti chiave <a class="header-anchor" href="#punti-chiave" aria-label="Permalink to &quot;Punti chiave&quot;">​</a></h2><div class="important custom-block github-alert"><p class="custom-block-title">Observer è un &quot;blueprint&quot;, Subscriber è un &quot;executor&quot;</p><p></p><ul><li><strong>Observer</strong>: l&#39;interfaccia che <strong>definisce</strong> come vengono ricevuti i dati</li><li><strong>Subscriber</strong>: la classe che <strong>implementa</strong> l&#39;Observer e <strong>esegue</strong> effettivamente la sottoscrizione</li><li>Subscriber appare in due situazioni</li></ul></div><div class="tip custom-block github-alert"><p class="custom-block-title">Capire quando usare Subscriber</p><p></p><ul><li><strong>Quando si crea un Observable</strong>: usa direttamente il parametro <code>subscriber</code> di <code>new Observable(subscriber =&gt; {...})</code></li><li><strong>Quando si sottoscrive</strong>: la chiamata a <code>subscribe(observer)</code> crea automaticamente il Subscriber internamente</li></ul><p>In entrambe le situazioni, il Subscriber è lo stesso oggetto con i metodi <code>next()</code>, <code>error()</code> e <code>complete()</code>.</p></div><h2 id="pattern-di-confusione-comuni" tabindex="-1">Pattern di confusione comuni <a class="header-anchor" href="#pattern-di-confusione-comuni" aria-label="Permalink to &quot;Pattern di confusione comuni&quot;">​</a></h2><h3 id="❌-comprensione-errata-1" tabindex="-1">❌ Comprensione errata #1 <a class="header-anchor" href="#❌-comprensione-errata-1" aria-label="Permalink to &quot;❌ Comprensione errata #1&quot;">​</a></h3><p>&quot;<code>subscriber</code> quando si crea un Observable e <code>observer</code> quando si sottoscrive sono cose diverse&quot;</p><h3 id="❌-comprensione-errata-2" tabindex="-1">❌ Comprensione errata #2 <a class="header-anchor" href="#❌-comprensione-errata-2" aria-label="Permalink to &quot;❌ Comprensione errata #2&quot;">​</a></h3><p>&quot;Subscriber è un&#39;implementazione interna, quindi gli sviluppatori non la toccano&quot;</p><h3 id="✅-comprensione-corretta" tabindex="-1">✅ Comprensione corretta <a class="header-anchor" href="#✅-comprensione-corretta" aria-label="Permalink to &quot;✅ Comprensione corretta&quot;">​</a></h3><p><strong>Fatto importante:</strong></p><ul><li>L&#39;<strong>Observer</strong> che lo sviluppatore passa in <code>subscribe(observer)</code> viene internamente avvolto in un <strong>Subscriber</strong></li><li>Quel <strong>Subscriber</strong> viene passato come parametro alla funzione costruttore quando si crea l&#39;Observable</li><li>In altre parole, <strong><code>subscriber</code> nella situazione 1 = <code>Subscriber</code> creato nella situazione 2 (stesso oggetto)</strong></li></ul><h3 id="capire-con-un-esempio-completo" tabindex="-1">Capire con un esempio completo <a class="header-anchor" href="#capire-con-un-esempio-completo" aria-label="Permalink to &quot;Capire con un esempio completo&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Observable } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. Crea Observable (a questo punto non viene eseguito nulla)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">subscriber</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;La funzione costruttore è stata eseguita!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. Sottoscrivi (solo in questo momento la funzione costruttore viene eseguita)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Ricevuto:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, v),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Completato&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Output:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// La funzione costruttore è stata eseguita!</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Ricevuto: 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Ricevuto: 2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Completato</span></span></code></pre></div><p><strong>Flusso in questo esempio:</strong></p><ol><li><code>observable$.subscribe({...})</code> viene chiamato</li><li>RxJS crea <code>new Subscriber({next: ..., complete: ...})</code></li><li>La funzione costruttore <code>(subscriber =&gt; {...})</code> viene eseguita con quel <code>Subscriber</code> come parametro</li><li><code>subscriber.next(1)</code> nella funzione costruttore viene chiamato</li><li>Internamente viene eseguito <code>observer.next(1)</code> e viene emesso &quot;Ricevuto: 1&quot;</li></ol><p><strong>In altre parole:</strong></p><ul><li>Il <code>subscriber</code> della situazione 1 ← questo</li><li>Il <code>Subscriber</code> creato nella situazione 2 ← questo</li><li><strong>Stesso oggetto!</strong></li></ul><h2 id="riepilogo" tabindex="-1">Riepilogo <a class="header-anchor" href="#riepilogo" aria-label="Permalink to &quot;Riepilogo&quot;">​</a></h2><h3 id="confronto-tra-observer-e-subscriber" tabindex="-1">Confronto tra Observer e Subscriber <a class="header-anchor" href="#confronto-tra-observer-e-subscriber" aria-label="Permalink to &quot;Confronto tra Observer e Subscriber&quot;">​</a></h3><table tabindex="0"><thead><tr><th></th><th>Observer</th><th>Subscriber</th></tr></thead><tbody><tr><td><strong>Tipo</strong></td><td>Interfaccia</td><td>Classe (implementa Observer)</td></tr><tr><td><strong>Ruolo</strong></td><td>Definisce come vengono ricevuti i dati</td><td>Esegue l&#39;effettivo processo di sottoscrizione</td></tr><tr><td><strong>Contenuto</strong></td><td>Callback per next/error/complete</td><td>Observer + Gestione Subscription</td></tr><tr><td><strong>Quando appare</strong></td><td>Solo alla sottoscrizione</td><td>Alla creazione Observable e alla sottoscrizione</td></tr></tbody></table><h3 id="importante-relazione-tra-le-due-situazioni" tabindex="-1">Importante: relazione tra le due situazioni <a class="header-anchor" href="#importante-relazione-tra-le-due-situazioni" aria-label="Permalink to &quot;Importante: relazione tra le due situazioni&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Situazione</th><th>Gestito dallo sviluppatore</th><th>Tipo effettivo</th><th>Relazione</th></tr></thead><tbody><tr><td><strong>Alla creazione Observable</strong></td><td>Parametro di <code>new Observable(subscriber =&gt; {...})</code></td><td><code>Subscriber&lt;T&gt;</code></td><td>Usato direttamente dallo sviluppatore</td></tr><tr><td><strong>Alla sottoscrizione</strong></td><td>Oggetto passato a <code>subscribe(observer)</code></td><td><code>Observer&lt;T&gt;</code> → convertito internamente in <code>Subscriber&lt;T&gt;</code></td><td>Convertito automaticamente da RxJS</td></tr></tbody></table><div class="important custom-block github-alert"><p class="custom-block-title">Punti fondamentali</p><p></p><ul><li>L&#39;<code>Observer</code> che lo sviluppatore passa in <code>subscribe(observer)</code> viene internamente avvolto in un <code>Subscriber</code></li><li>Il <code>Subscriber</code> viene passato come parametro alla funzione costruttore dell&#39;Observable</li><li>Pertanto, <strong>il <code>Subscriber</code> utilizzato in entrambe le situazioni è lo stesso oggetto</strong></li></ul></div><h2 id="prossimi-passi" tabindex="-1">Prossimi passi <a class="header-anchor" href="#prossimi-passi" aria-label="Permalink to &quot;Prossimi passi&quot;">​</a></h2><p>Una volta compresa la differenza tra Observer e Subscriber, il passo successivo è imparare a gestire le sottoscrizioni nella pratica.</p><ul><li><a href="/RxJS-with-TypeScript/it/guide/observables/observable-lifecycle">Ciclo di vita degli Observable</a> - Dall&#39;inizio alla fine della sottoscrizione</li><li><a href="/RxJS-with-TypeScript/it/guide/observables/observable-lifecycle#subscription-サブスクリプション">Gestione delle Subscription</a> - Disiscrizione e gestione delle risorse</li></ul><h2 id="risorse-di-riferimento" tabindex="-1">Risorse di riferimento <a class="header-anchor" href="#risorse-di-riferimento" aria-label="Permalink to &quot;Risorse di riferimento&quot;">​</a></h2><ul><li><a href="https://rxjs.dev/guide/observer" target="_blank" rel="noreferrer">Documentazione ufficiale RxJS - Observer</a> - Specifiche dettagliate dell&#39;Observer</li><li><a href="https://rxjs.dev/guide/subscription" target="_blank" rel="noreferrer">Documentazione ufficiale RxJS - Subscription</a> - Specifiche dettagliate della Subscription</li><li><a href="https://www.codingscenes.com/posts/92/Understanding-the-Difference-Between-Observer-and-Subscriber-in-RxJS" target="_blank" rel="noreferrer">Understanding the Difference Between Observer and Subscriber in RxJS</a> - Estensioni di Subscriber ed esempi pratici (inglese)</li></ul>`,30))])}const m=p(c,[["render",d]]);export{F as __pageData,m as default};
