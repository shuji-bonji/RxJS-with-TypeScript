import{_ as h,C as k,c as o,o as e,a2 as a,b as t,w as i,a as l,G as r,a3 as p}from"./chunks/framework.D3KFGq5-.js";const F=JSON.parse(`{"title":"Différence entre Observer et Subscriber","description":"Observer et Subscriber dans RxJS sont souvent confondus, mais ils ont des rôles clairement différents. L'Observer est une interface qui définit comment recevoir des données, tandis que le Subscriber est une classe qui exécute le processus d'abonnement proprement dit. Cet article explique ces différences à l'aide de diagrammes et d'exemples de code.","frontmatter":{"description":"Observer et Subscriber dans RxJS sont souvent confondus, mais ils ont des rôles clairement différents. L'Observer est une interface qui définit comment recevoir des données, tandis que le Subscriber est une classe qui exécute le processus d'abonnement proprement dit. Cet article explique ces différences à l'aide de diagrammes et d'exemples de code."},"headers":[],"relativePath":"fr/guide/observables/observer-vs-subscriber.md","filePath":"fr/guide/observables/observer-vs-subscriber.md","lastUpdated":1765219888000}`),d={name:"fr/guide/observables/observer-vs-subscriber.md"};function c(b,s,u,E,g,y){const n=k("Mermaid");return e(),o("div",null,[s[2]||(s[2]=a(`<h1 id="difference-entre-observer-et-subscriber" tabindex="-1">Différence entre Observer et Subscriber <a class="header-anchor" href="#difference-entre-observer-et-subscriber" aria-label="Permalink to &quot;Différence entre Observer et Subscriber&quot;">​</a></h1><h2 id="pourquoi-ils-sont-confondus" tabindex="-1">Pourquoi ils sont confondus <a class="header-anchor" href="#pourquoi-ils-sont-confondus" aria-label="Permalink to &quot;Pourquoi ils sont confondus&quot;">​</a></h2><p>Lors de l&#39;apprentissage de RxJS, les termes &quot;Observer&quot; et &quot;Subscriber&quot; apparaissent et peuvent prêter à confusion. Ces deux termes sont étroitement liés, mais ils ont des rôles distincts.</p><h2 id="qu-est-ce-qu-un-observer" tabindex="-1">Qu&#39;est-ce qu&#39;un Observer ? <a class="header-anchor" href="#qu-est-ce-qu-un-observer" aria-label="Permalink to &quot;Qu&#39;est-ce qu&#39;un Observer ?&quot;">​</a></h2><p>Un <strong>Observer</strong> est une <strong>interface</strong> pour recevoir des données.</p><h3 id="definition-de-l-observer" tabindex="-1">Définition de l&#39;Observer <a class="header-anchor" href="#definition-de-l-observer" aria-label="Permalink to &quot;Définition de l&#39;Observer&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Recevoir une valeur</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Recevoir une erreur</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  complete</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Recevoir l&#39;achèvement</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="role-de-l-observer" tabindex="-1">Rôle de l&#39;Observer <a class="header-anchor" href="#role-de-l-observer" aria-label="Permalink to &quot;Rôle de l&#39;Observer&quot;">​</a></h3><ul><li>Définit &quot;comment&quot; recevoir des données</li><li>Possède 3 fonctions de rappel</li><li>Décrit <strong>quoi</strong> faire</li></ul><h2 id="qu-est-ce-qu-un-subscriber" tabindex="-1">Qu&#39;est-ce qu&#39;un Subscriber ? <a class="header-anchor" href="#qu-est-ce-qu-un-subscriber" aria-label="Permalink to &quot;Qu&#39;est-ce qu&#39;un Subscriber ?&quot;">​</a></h2><p><strong>Subscriber</strong> est une <strong>classe</strong> qui implémente l&#39;Observer et exécute le processus d&#39;abonnement proprement dit.</p><h3 id="role-du-subscriber" tabindex="-1">Rôle du Subscriber <a class="header-anchor" href="#role-du-subscriber" aria-label="Permalink to &quot;Rôle du Subscriber&quot;">​</a></h3><ul><li>Exécute les rappels de l&#39;Observer</li><li>Détient la Subscription (gestion de l&#39;abonnement)</li><li>Gère le processus de désabonnement</li><li>Contrôle <strong>comment</strong> exécuter</li></ul><h2 id="deux-situations-ou-le-subscriber-apparait" tabindex="-1">Deux situations où le Subscriber apparaît <a class="header-anchor" href="#deux-situations-ou-le-subscriber-apparait" aria-label="Permalink to &quot;Deux situations où le Subscriber apparaît&quot;">​</a></h2><p>Le Subscriber apparaît en fait dans <strong>deux situations différentes</strong>. Cependant, <strong>il s&#39;agit dans les deux cas du même objet Subscriber</strong>. Comprendre cette différence est essentiel pour éviter toute confusion.</p><h3 id="situation-1-lors-de-la-creation-d-un-observable-recu-en-tant-que-parametre" tabindex="-1">Situation 1 : Lors de la création d&#39;un Observable (reçu en tant que paramètre) <a class="header-anchor" href="#situation-1-lors-de-la-creation-d-un-observable-recu-en-tant-que-parametre" aria-label="Permalink to &quot;Situation 1 : Lors de la création d&#39;un Observable (reçu en tant que paramètre)&quot;">​</a></h3><p>Lors de la création d&#39;un Observable avec <code>new Observable()</code>, <code>subscriber</code> est passé en paramètre à la fonction constructeur.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Observable } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Utiliser subscriber pour publier des valeurs (le type est Subscriber&lt;number&gt;)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">subscriber</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Publier une valeur</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Notifier l&#39;achèvement</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Type du subscriber dans cette situation</p><ul><li>Type : <code>Subscriber&lt;number&gt;</code></li><li>Rôle : Utilisé pour publier des données à l&#39;intérieur de l&#39;Observable</li><li>Les développeurs l&#39;utilisent directement (appel de <code>next()</code>, <code>error()</code>, <code>complete()</code>)</li></ul></div><h3 id="situation-2-lors-de-l-appel-a-subscribe-observer-→-converti-en-subscriber" tabindex="-1">Situation 2 : Lors de l&#39;appel à subscribe() (Observer → Converti en Subscriber) <a class="header-anchor" href="#situation-2-lors-de-l-appel-a-subscribe-observer-→-converti-en-subscriber" aria-label="Permalink to &quot;Situation 2 : Lors de l&#39;appel à subscribe() (Observer → Converti en Subscriber)&quot;">​</a></h3><p>Lorsque vous appelez <code>subscribe()</code> sur un Observable, <strong>l&#39;Observer passé par le développeur est converti en interne en un Subscriber</strong>.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Le développeur passe une interface Observer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Valeur suivante:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Erreur:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, err),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Terminé&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ↑ RxJS crée en interne un Subscriber comme suit</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// const subscriber = new Subscriber(observer);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Et ce subscriber est passé comme paramètre dans la situation 1</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Traitement dans cette situation</p><ol><li>Le développeur passe une interface <code>Observer</code></li><li>RxJS enveloppe en interne l&#39;<code>Observer</code> dans un <code>Subscriber</code></li><li>Ce <code>Subscriber</code> est passé à la fonction constructeur de l&#39;Observable (= <code>subscriber</code> dans la situation 1)</li></ol></div><h3 id="important-il-s-agit-dans-les-deux-cas-du-meme-objet-subscriber" tabindex="-1">Important : Il s&#39;agit dans les deux cas du même objet Subscriber <a class="header-anchor" href="#important-il-s-agit-dans-les-deux-cas-du-meme-objet-subscriber" aria-label="Permalink to &quot;Important : Il s&#39;agit dans les deux cas du même objet Subscriber&quot;">​</a></h3><div class="important custom-block github-alert"><p class="custom-block-title">Le \`Subscriber\` dans les situations 1 et 2 est le même objet</p><p></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">subscriber</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Ce subscriber est l&#39;objet Subscriber lui-même</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // créé lors de l&#39;appel à subscribe()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Cet Observer est enveloppé dans un Subscriber,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // et passé à la fonction constructeur ci-dessus</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>En d&#39;autres termes :</strong></p><ul><li>Le développeur appelle <code>subscribe(observer)</code></li><li>RxJS crée <code>new Subscriber(observer)</code></li><li>Ce Subscriber devient l&#39;argument de la fonction constructeur de l&#39;Observable</li><li>Par conséquent, <code>subscriber</code> dans la situation 1 = <code>Subscriber</code> créé dans la situation 2</li></ul></div><h2 id="illustration-des-relations" tabindex="-1">Illustration des relations <a class="header-anchor" href="#illustration-des-relations" aria-label="Permalink to &quot;Illustration des relations&quot;">​</a></h2>`,26)),(e(),t(p,null,{default:i(()=>[r(n,{id:"mermaid-165",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20Observable%5B%22Observable%22%5D%0A%20%20%20%20Subscribe%5B%22subscribe()%22%5D%0A%20%20%20%20Subscriber%5B%22Subscriber%3Cbr%2F%3E(classe%20d'impl%C3%A9mentation)%22%5D%0A%20%20%20%20Observer%5B%22Observer%3Cbr%2F%3E(interface)%22%5D%0A%20%20%20%20Subscription%5B%22Subscription%3Cbr%2F%3E(gestion%20de%20l'abonnement)%22%5D%0A%0A%20%20%20%20Observable%20--%3E%20Subscribe%0A%20%20%20%20Subscribe%20--%3E%7CCr%C3%A9%C3%A9%20en%20interne%7C%20Subscriber%0A%20%20%20%20Subscriber%20--%3E%7CImpl%C3%A9mente%7C%20Observer%0A%20%20%20%20Subscriber%20--%3E%7CD%C3%A9tient%2FG%C3%A8re%7C%20Subscription%0A%0A%20%20%20%20Observer%20--%3E%7Cnext%2Ferror%2Fcomplete%7C%20Callbacks%5B%22Fonctions%20de%20rappel%22%5D%0A%20%20%20%20Subscription%20--%3E%7Cunsubscribe%7C%20Cleanup%5B%22D%C3%A9sabonnement%22%5D%0A%0A%20%20%20%20style%20Observer%20fill%3A%23fff4e1%0A%20%20%20%20style%20Subscriber%20fill%3A%23e8f5e9%0A%20%20%20%20style%20Subscription%20fill%3A%23e1f5ff%0A"})]),fallback:i(()=>[...s[0]||(s[0]=[l(" Loading... ",-1)])]),_:1})),s[3]||(s[3]=a(`<h2 id="differences-observees-dans-le-code" tabindex="-1">Différences observées dans le code <a class="header-anchor" href="#differences-observees-dans-le-code" aria-label="Permalink to &quot;Différences observées dans le code&quot;">​</a></h2><h3 id="exemple-complet-de-la-creation-de-l-observable-a-l-abonnement" tabindex="-1">Exemple complet : De la création de l&#39;Observable à l&#39;abonnement <a class="header-anchor" href="#exemple-complet-de-la-creation-de-l-observable-a-l-abonnement" aria-label="Permalink to &quot;Exemple complet : De la création de l&#39;Observable à l&#39;abonnement&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Observable } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. Lors de la création de l&#39;Observable : utiliser subscriber pour publier des valeurs</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">subscriber</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Abonnement démarré&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. Lors de l&#39;abonnement : passer l&#39;Observer (le Subscriber est créé en interne)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Valeur suivante:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Erreur:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, err),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Terminé&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Sortie :</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Abonnement démarré</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Valeur suivante: 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Valeur suivante: 2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Valeur suivante: 3</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Terminé</span></span></code></pre></div><h4 id="dans-cet-exemple" tabindex="-1">Dans cet exemple <a class="header-anchor" href="#dans-cet-exemple" aria-label="Permalink to &quot;Dans cet exemple&quot;">​</a></h4><ul><li><strong><code>subscriber</code> au moment de la création</strong> : Utilisé pour publier des données à l&#39;intérieur de l&#39;Observable</li><li><strong><code>Observer</code> au moment de l&#39;abonnement</strong> : Définit le processus de réception des données publiées</li></ul><h3 id="lors-du-passage-d-un-observer" tabindex="-1">Lors du passage d&#39;un Observer <a class="header-anchor" href="#lors-du-passage-d-un-observer" aria-label="Permalink to &quot;Lors du passage d&#39;un Observer&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { interval } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> observer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Terminé&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Passer l&#39;Observer à subscribe</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> subscription</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(observer);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// En interne, un Subscriber est créé et exécute les callbacks de l&#39;observer</span></span></code></pre></div><h3 id="lorsque-l-on-passe-des-callbacks-directement-notation-simplifiee" tabindex="-1">Lorsque l&#39;on passe des callbacks directement (Notation simplifiée) <a class="header-anchor" href="#lorsque-l-on-passe-des-callbacks-directement-notation-simplifiee" aria-label="Permalink to &quot;Lorsque l&#39;on passe des callbacks directement (Notation simplifiée)&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cela crée également un Subscriber en interne</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> subscription</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value),  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// next</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err),    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// error</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Terminé&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// complete</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="flux-d-operations-reel" tabindex="-1">Flux d&#39;opérations réel <a class="header-anchor" href="#flux-d-operations-reel" aria-label="Permalink to &quot;Flux d&#39;opérations réel&quot;">​</a></h2><p>Le diagramme de séquence suivant montre le flux allant de la création de l&#39;Observable à l&#39;abonnement et à la publication des données.</p>`,11)),(e(),t(p,null,{default:i(()=>[r(n,{id:"mermaid-202",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20App%20as%20Application%0A%20%20%20%20participant%20Obs%20as%20Observable%3Cbr%2F%3Efonction%20constructeur%0A%20%20%20%20participant%20Sub%20as%20Subscriber%0A%20%20%20%20participant%20Obv%20as%20Observer%0A%0A%20%20%20%20Note%20over%20App%2CObv%3A%20Phase%20d'abonnement%0A%20%20%20%20App-%3E%3EObs%3A%20subscribe(observer)%0A%20%20%20%20Note%20over%20Obs%3A%20Envelopper%20l'Observer%20dans%20un%20Subscriber%0A%20%20%20%20Obs-%3E%3ESub%3A%20cr%C3%A9er%20new%20Subscriber(observer)%0A%20%20%20%20Sub-%3E%3EObv%3A%20Conserver%20l'Observer%20%C3%A0%20l'int%C3%A9rieur%0A%0A%20%20%20%20Note%20over%20App%2CObv%3A%20Phase%20de%20publication%20des%20donn%C3%A9es%0A%20%20%20%20Note%20over%20Obs%3A%20Ex%C3%A9cuter%20la%20fonction%20constructeur%3Cbr%2F%3Esubscriber.next()%20est%20appel%C3%A9%0A%20%20%20%20Obs-%3E%3ESub%3A%20subscriber.next(value)%0A%20%20%20%20Sub-%3E%3EObv%3A%20Ex%C3%A9cuter%20observer.next(value)%0A%20%20%20%20Obv--%3E%3EApp%3A%20Sortie%20console%2C%20etc.%0A%0A%20%20%20%20Note%20over%20App%2CObv%3A%20Phase%20de%20d%C3%A9sabonnement%0A%20%20%20%20App-%3E%3ESub%3A%20unsubscribe()%0A%20%20%20%20Sub-%3E%3EObs%3A%20Lib%C3%A9rer%20les%20ressources%0A"})]),fallback:i(()=>[...s[1]||(s[1]=[l(" Loading... ",-1)])]),_:1})),s[4]||(s[4]=a(`<p><strong>Points importants de ce flux :</strong></p><ol><li>Lorsque <code>subscribe(observer)</code> est appelé, un <code>new Subscriber(observer)</code> est créé</li><li>Ce Subscriber est passé en paramètre à la fonction constructeur de l&#39;Observable</li><li>Lorsque <code>subscriber.next()</code> est appelé dans la fonction constructeur, la fonction interne <code>observer.next()</code> est exécutée</li><li>En d&#39;autres termes, <strong><code>subscriber</code> dans la situation 1 = <code>Subscriber</code> créé dans la situation 2</strong></li></ol><h2 id="points-importants" tabindex="-1">Points importants <a class="header-anchor" href="#points-importants" aria-label="Permalink to &quot;Points importants&quot;">​</a></h2><div class="important custom-block github-alert"><p class="custom-block-title">L&#39;Observer est le &quot;plan&quot;, le Subscriber est l&#39;&quot;exécuteur&quot;</p><p></p><ul><li><strong>Observer</strong> : Une interface qui <strong>définit</strong> comment recevoir des données</li><li><strong>Subscriber</strong> : Une classe qui <strong>implémente</strong> l&#39;Observer et <strong>exécute</strong> l&#39;abonnement</li><li>Le Subscriber apparaît dans deux situations</li></ul></div><div class="tip custom-block github-alert"><p class="custom-block-title">Comprendre quand utiliser le Subscriber</p><p></p><ul><li><strong>Lors de la création d&#39;un Observable</strong> : Utilisez le paramètre <code>subscriber</code> dans <code>new Observable(subscriber =&gt; {...})</code> directement</li><li><strong>Lors de l&#39;abonnement</strong> : Lors de l&#39;appel à <code>subscribe(observer)</code>, un Subscriber est automatiquement créé en interne</li></ul><p>Dans les deux cas, le Subscriber est le même objet avec les méthodes <code>next()</code>, <code>error()</code>, <code>complete()</code>.</p></div><h2 id="modeles-de-confusion-courants" tabindex="-1">Modèles de confusion courants <a class="header-anchor" href="#modeles-de-confusion-courants" aria-label="Permalink to &quot;Modèles de confusion courants&quot;">​</a></h2><h3 id="❌-mauvaise-comprehension-1" tabindex="-1">❌ Mauvaise compréhension #1 <a class="header-anchor" href="#❌-mauvaise-comprehension-1" aria-label="Permalink to &quot;❌ Mauvaise compréhension #1&quot;">​</a></h3><p>&quot;Le <code>subscriber</code> lors de la création d&#39;un Observable et l&#39;<code>observer</code> lors de l&#39;abonnement sont deux choses différentes&quot;</p><h3 id="❌-mauvaise-comprehension-2" tabindex="-1">❌ Mauvaise compréhension #2 <a class="header-anchor" href="#❌-mauvaise-comprehension-2" aria-label="Permalink to &quot;❌ Mauvaise compréhension #2&quot;">​</a></h3><p>&quot;Le Subscriber est une implémentation interne, donc les développeurs n&#39;y touchent pas&quot;</p><h3 id="✅-comprehension-correcte" tabindex="-1">✅ Compréhension correcte <a class="header-anchor" href="#✅-comprehension-correcte" aria-label="Permalink to &quot;✅ Compréhension correcte&quot;">​</a></h3><p><strong>Faits importants :</strong></p><ul><li>L&#39;<strong>Observer</strong> que le développeur passe dans <code>subscribe(observer)</code> est enveloppé en interne dans un <strong>Subscriber</strong></li><li>Ce <strong>Subscriber</strong> est passé en paramètre à la fonction constructeur lors de la création de l&#39;Observable</li><li>En d&#39;autres termes, <strong><code>subscriber</code> dans la situation 1 = <code>Subscriber</code> créé dans la situation 2 (même objet)</strong></li></ul><h3 id="comprendre-avec-un-exemple-complet" tabindex="-1">Comprendre avec un exemple complet <a class="header-anchor" href="#comprendre-avec-un-exemple-complet" aria-label="Permalink to &quot;Comprendre avec un exemple complet&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Observable } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. Créer l&#39;Observable (rien n&#39;est exécuté à ce stade)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> observable$</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Observable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">subscriber</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;La fonction constructeur a été exécutée!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subscriber.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. S&#39;abonner (la fonction constructeur est exécutée pour la première fois à ce moment)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">observable$.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Reçu:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, v),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  complete</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Terminé&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Sortie :</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// La fonction constructeur a été exécutée!</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Reçu: 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Reçu: 2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Terminé</span></span></code></pre></div><p><strong>Flux dans cet exemple :</strong></p><ol><li><code>observable$.subscribe({...})</code> est appelé</li><li>RxJS crée <code>new Subscriber({next: ..., complete: ...})</code></li><li>La fonction constructeur <code>(subscriber =&gt; {...})</code> est exécutée avec ce <code>Subscriber</code> comme paramètre</li><li><code>subscriber.next(1)</code> est appelé dans la fonction constructeur</li><li>En interne, <code>observer.next(1)</code> est exécuté et &quot;Reçu: 1&quot; est affiché</li></ol><p><strong>En d&#39;autres termes :</strong></p><ul><li><code>subscriber</code> dans la situation 1 ← ceci</li><li><code>Subscriber</code> créé dans la situation 2 ← ceci</li><li><strong>Même objet !</strong></li></ul><h2 id="resume" tabindex="-1">Résumé <a class="header-anchor" href="#resume" aria-label="Permalink to &quot;Résumé&quot;">​</a></h2><h3 id="comparaison-de-l-observer-et-du-subscriber" tabindex="-1">Comparaison de l&#39;Observer et du Subscriber <a class="header-anchor" href="#comparaison-de-l-observer-et-du-subscriber" aria-label="Permalink to &quot;Comparaison de l&#39;Observer et du Subscriber&quot;">​</a></h3><table tabindex="0"><thead><tr><th></th><th>Observer</th><th>Subscriber</th></tr></thead><tbody><tr><td><strong>Type</strong></td><td>Interface</td><td>Classe (implémente Observer)</td></tr><tr><td><strong>Rôle</strong></td><td>Définit comment recevoir des données</td><td>Exécute le processus d&#39;abonnement réel</td></tr><tr><td><strong>Contenu</strong></td><td>Callbacks next/error/complete</td><td>Observer + gestion de la Subscription</td></tr><tr><td><strong>Quand il apparaît</strong></td><td>Uniquement lors de l&#39;abonnement</td><td>Lors de la création de l&#39;Observable et de l&#39;abonnement</td></tr></tbody></table><h3 id="important-relation-dans-les-deux-situations" tabindex="-1">Important : Relation dans les deux situations <a class="header-anchor" href="#important-relation-dans-les-deux-situations" aria-label="Permalink to &quot;Important : Relation dans les deux situations&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Situation</th><th>Ce que le développeur gère</th><th>Type réel</th><th>Relation</th></tr></thead><tbody><tr><td><strong>Lors de la création de l&#39;Observable</strong></td><td>Paramètre dans <code>new Observable(subscriber =&gt; {...})</code></td><td><code>Subscriber&lt;T&gt;</code></td><td>Le développeur l&#39;utilise directement</td></tr><tr><td><strong>Lors de l&#39;abonnement</strong></td><td>Objet passé à <code>subscribe(observer)</code></td><td><code>Observer&lt;T&gt;</code> → Converti en interne en <code>Subscriber&lt;T&gt;</code></td><td>RxJS convertit automatiquement</td></tr></tbody></table><div class="important custom-block github-alert"><p class="custom-block-title">Point central</p><p></p><ul><li>L&#39;<code>Observer</code> que le développeur passe dans <code>subscribe(observer)</code> est enveloppé dans un <code>Subscriber</code> en interne</li><li>Ce <code>Subscriber</code> est passé en paramètre à la fonction constructeur de l&#39;Observable</li><li>Par conséquent, <strong>le <code>Subscriber</code> utilisé dans les deux situations est le même objet</strong></li></ul></div><h2 id="prochaines-etapes" tabindex="-1">Prochaines étapes <a class="header-anchor" href="#prochaines-etapes" aria-label="Permalink to &quot;Prochaines étapes&quot;">​</a></h2><p>Maintenant que vous comprenez la différence entre l&#39;Observer et le Subscriber, nous allons nous intéresser à la gestion des abonnements proprement dite.</p><ul><li><a href="/RxJS-with-TypeScript/fr/guide/observables/observable-lifecycle">Cycle de vie de l&#39;Observable</a> - Flux du début à la fin de l&#39;abonnement</li><li><a href="/RxJS-with-TypeScript/fr/guide/observables/observable-lifecycle#subscription">Gestion des abonnements</a> - Désabonnement et gestion des ressources</li></ul><h2 id="ressources-de-reference" tabindex="-1">Ressources de référence <a class="header-anchor" href="#ressources-de-reference" aria-label="Permalink to &quot;Ressources de référence&quot;">​</a></h2><ul><li><a href="https://rxjs.dev/guide/observer" target="_blank" rel="noreferrer">Documentation officielle RxJS - Observer</a> - Spécification détaillée de l&#39;Observer</li><li><a href="https://rxjs.dev/guide/subscription" target="_blank" rel="noreferrer">Documentation officielle RxJS - Subscription</a> - Spécification détaillée de la Subscription</li><li><a href="https://www.codingscenes.com/posts/92/Understanding-the-Difference-Between-Observer-and-Subscriber-in-RxJS" target="_blank" rel="noreferrer">Understanding the Difference Between Observer and Subscriber in RxJS</a> - Fonctionnalités étendues du Subscriber et exemples pratiques</li></ul>`,30))])}const v=h(d,[["render",c]]);export{F as __pageData,v as default};
